webpackJsonp([6],{105:function(n,l,e){"use strict";e.d(l,"a",function(){return i}),l.b=o;var t=e(0),u=e(24),i=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function o(n){return t["ɵvid"](0,[(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵted"](-1,null,["\n\n\n "])),(n()(),t["ɵeld"](2,0,null,null,54,"div",[["class","steps-wrapper"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](4,0,null,null,51,"ul",[["class","steps"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](6,0,null,null,8,"li",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.route("HomePage")&&t);return t},null,null)),t["ɵdid"](7,278528,null,0,u.g,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](9,0,null,null,4,"div",[["class","step-info"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](11,0,null,null,1,"span",[["class","step-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Upload"])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](16,0,null,null,8,"li",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.route("AnnotatePage")&&t);return t},null,null)),t["ɵdid"](17,278528,null,0,u.g,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](19,0,null,null,4,"div",[["class","step-info"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](21,0,null,null,1,"span",[["class","step-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Annotate"])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](26,0,null,null,8,"li",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.route("EmailPage")&&t);return t},null,null)),t["ɵdid"](27,278528,null,0,u.g,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](29,0,null,null,4,"div",[["class","step-info"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](31,0,null,null,1,"span",[["class","step-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Email"])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](36,0,null,null,8,"li",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.route("SignPage")&&t);return t},null,null)),t["ɵdid"](37,278528,null,0,u.g,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](39,0,null,null,4,"div",[["class","step-info"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](41,0,null,null,1,"span",[["class","step-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Sign"])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](46,0,null,null,8,"li",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.route("ReviewPage")&&t);return t},null,null)),t["ɵdid"](47,278528,null,0,u.g,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](49,0,null,null,4,"div",[["class","step-info"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](51,0,null,null,1,"span",[["class","step-name"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Review"])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n  "]))],function(n,l){var e=l.component;n(l,7,0,"1"==e.activeStep?"step active":"step"),n(l,17,0,"2"==e.activeStep?"step active":"step"),n(l,27,0,"3"==e.activeStep?"step active":"step"),n(l,37,0,"4"==e.activeStep?"step active":"step"),n(l,47,0,"5"==e.activeStep?"step active":"step")},null)}},139:function(n,l,e){"use strict";e.d(l,"a",function(){return k}),l.b=R;var t=e(0),u=e(67),i=e(418),o=e(66),r=e(4),a=e(183),s=e(79),c=e(6),d=e(68),h=e(69),p=e(24),f=e(83),g=e(29),m=e(11),v=e(12),b=e(33),y=e(8),w=e(23),k=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function D(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,0,"img",[["class","draggable draggable-droppable"],["height","50px"],["id","sigImg"],["src","./../../assets/imgs/sign.png"]],null,null,null,null,null))],null,null)}function S(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"ion-col",[["class","col"],["col-auto",""]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,u.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](3,0,null,null,0,"img",[["class","draggable draggable-droppable"],["height","50px"],["id","sigImg"],["src","./../../assets/imgs/sign.png"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          \n        "]))],null,null)}function C(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,8,"ion-col",[["class","col"],["col-auto",""]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,u.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](3,0,null,null,4,":svg:svg",[["class","draggable draggable-droppable"],["height","50"],["id","signature"],["opacity","1"],["style","clear:both; background:#ffeb8e; border: 1px solid red "],["viewBox","0 0 200 50"],["width","200"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n\n            "])),(n()(),t["ɵeld"](5,0,null,null,1,":svg:text",[["alignment-baseline","middle"],["fill","green"],["font-family","Cedarville Cursive"],["font-weight","bold"],["height","50"],["style","font-size: 25px"],["text-anchor","middle"],["viewBox","0 0 200 50"],["width","200"],["x","50%"],["y","50%"]],null,null,null,null,null)),(n()(),t["ɵted"](6,null,["\n              ","\n            "])),(n()(),t["ɵted"](-1,null,["\n\n          "])),(n()(),t["ɵted"](-1,null,["\n        "]))],null,function(n,l){n(l,6,0,l.component.yourName)})}function x(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,7,"ion-col",[["class","col"],["col-auto",""]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,u.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](3,0,null,null,0,"img",[["height","35px"],["src","./../../assets/imgs/arrows.svg"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](5,0,null,null,1,"span",[["style","color:#757575; font-family: Cedarville Cursive; font-size: 18px; font-weight: bold"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["drag"])),(n()(),t["ɵted"](-1,null,["\n        "]))],null,null)}function P(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,6,"ion-col",[["class","col"],["col-auto",""],["style","padding-left: 20px;"]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,u.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](3,0,null,null,2,"button",[["ion-fab",""],["style","position:relative"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.saveSvg()&&t);return t},i.b,i.a)),t["ɵdid"](4,49152,[[1,4]],0,o.a,[r.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,0,["Save"])),(n()(),t["ɵted"](-1,null,["\n        "]))],null,null)}function j(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,6,"ion-col",[["class","col"],["col-auto",""],["style","padding-left: 5px;"]],null,null,null,null,null)),t["ɵdid"](1,16384,null,0,u.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](3,0,null,null,2,"button",[["ion-fab",""],["style","position:relative"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.clear()&&t);return t},i.b,i.a)),t["ɵdid"](4,49152,[[1,4]],0,o.a,[r.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,0,["Clear"])),(n()(),t["ɵted"](-1,null,["\n        "]))],null,null)}function L(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,39,"ion-fab",[["left",""],["style","margin-top:1px;background-color:#36393E; opacity: .95;border-radius: 10px"],["top",""]],null,null,null,a.b,a.a)),t["ɵdid"](1,1228800,[["fab",4]],2,s.a,[c.a],null,null),t["ɵqud"](603979776,1,{_mainButton:0}),t["ɵqud"](603979776,2,{_fabLists:1}),(n()(),t["ɵted"](-1,0,["\n    "])),(n()(),t["ɵeld"](5,0,null,0,33,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](6,16384,null,0,d.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](8,0,null,null,18,"ion-row",[["align-items-center",""],["class","row"],["justify-content-start",""]],null,null,null,null,null)),t["ɵdid"](9,16384,null,0,h.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵand"](16777216,null,null,1,null,S)),t["ɵdid"](12,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵand"](16777216,null,null,1,null,C)),t["ɵdid"](15,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵand"](16777216,null,null,1,null,x)),t["ɵdid"](18,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵand"](16777216,null,null,1,null,P)),t["ɵdid"](22,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵand"](16777216,null,null,1,null,j)),t["ɵdid"](25,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](28,0,null,null,9,"ion-row",[["class","row"],["style","margin-top: -15px; margin-bottom: -8px"]],null,null,null,null,null)),t["ɵdid"](29,16384,null,0,h.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](31,0,null,null,5,"ion-col",[["class","col"]],null,null,null,null,null)),t["ɵdid"](32,16384,null,0,u.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n           "])),(n()(),t["ɵeld"](34,0,null,null,1,"span",[["style","font-size: .75rem; color:#757575;"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["*drag off screen to delete"])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,0,["\n  "]))],function(n,l){var e=l.component;n(l,12,0,e.showSignHere),n(l,15,0,e.showSignature),n(l,18,0,e.showButtons),n(l,22,0,e.showButtons),n(l,25,0,e.showButtons)},null)}function R(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,25,"ion-content",[["class","block-pdf-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,f.b,f.a)),t["ɵdid"](1,4374528,null,0,g.a,[r.a,c.a,m.a,t.ElementRef,t.Renderer,v.a,b.a,t.NgZone,[2,y.a],[2,w.a]],null,null),(n()(),t["ɵted"](-1,1,["\n\n\n  "])),(n()(),t["ɵeld"](3,0,null,1,12,"div",[["class","page"],["data-page-number","1"],["id","pageContainer1"],["style","position:relative;width: 100%; height:100%;overflow-x:auto;overflow-y:auto"]],[[4,"margin-top",null]],null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](5,0,null,null,9,"div",[["id","canvasWrapper"],["style","padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](7,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](9,0,null,null,1,":svg:svg",[["class","svg-dropzone dropzone resizable"],["height","792"],["id","svg-dropzone"],["style","position: absolute; \n        left: 0px; \n        top:0px;\n        z-index: 200000;\n        padding: 0px 0px 0px 0px; \n        margin: 0px 0px 0px 0px; "],["viewBox","0 0 612 792"],["width","612"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,[" \n      "])),(n()(),t["ɵeld"](12,0,null,null,0,"div",[["class","textLayer"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      \n    "])),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](17,0,null,1,1,":svg:svg",[["class","annotationLayer"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵand"](16777216,null,1,1,null,D)),t["ɵdid"](21,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,1,["\n\n\n  "])),(n()(),t["ɵand"](16777216,null,0,1,null,L)),t["ɵdid"](24,16384,null,0,p.i,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵted"](-1,1,["\n"]))],function(n,l){var e=l.component;n(l,21,0,!e.showToolBar),n(l,24,0,e.showToolBar)},function(n,l){var e=l.component;n(l,0,0,t["ɵnov"](l,1).statusbarPadding,t["ɵnov"](l,1)._hasRefresher),n(l,3,0,e.marginTop)})}},141:function(n,l,e){"use strict";e.d(l,"a",function(){return s});e(1);var t=e(81),u=(e.n(t),e(47)),i=e(48),o=(e.n(i),e(70)),r=(e.n(o),e(16),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),a=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},s=function(){function n(n,l){this.events=n,this.http=l,this.url="https://blockusign.co/api/email"}return n.prototype.sendEmail=function(n,l,e){return r(this,void 0,void 0,function(){var t,i;return a(this,function(o){switch(o.label){case 0:return n&&l&&e?(t={to:n,subject:l,content:e},(i=new u.j).headers=new u.d({"Content-Type":"application/json"}),[4,this.http.post(this.url,JSON.stringify(t),i).toPromise()]):(alert("Must add an email address"),[2]);case 1:return[2,o.sent()]}})})},n.prototype.updateCachedEmails=function(){return r(this,void 0,void 0,function(){return a(this,function(n){return[2]})})},n.prototype.getCachedEmails=function(){return r(this,void 0,void 0,function(){return a(this,function(n){return[2]})})},n}()},149:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1);var t=function(){return function(){this.GaiUrl="http://21312"}}()},153:function(n,l,e){"use strict";e(1),e(0),e(16);e.d(l,"a",function(){return t});var t=function(){return function(){}}()},154:function(n,l,e){"use strict";e.d(l,"a",function(){return r});e(1),e(16),e(97);var t=e(176),u=(e.n(t),e(177)),i=(e.n(u),e(178)),o=(e.n(i),e(48)),r=(e.n(o),function(){function n(n,l,e,t){this.navCtrl=n,this.navParams=l,this.documentService=e,this.events=t}return n.prototype.ionViewWillLeave=function(){this.blockChat.ngOnDestroy()},n}())},155:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){function n(n,l,e){var t=this;if(this.navCtrl=n,this.navParams=l,this.documentService=e,this.navParams.get("guid")&&!this.documentService.currentDoc){var u=this.navParams.get("guid");this.documentService.getDocumentsIndex(!0).then(function(n){t.documentService.documentsList=n,t.documentService.setCurrentDoc(u)})}}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad SignPage")},n.prototype.back=function(){this.navCtrl.push("SignPage",{guid:this.documentService.currentDoc.guid})},n}()},156:function(n,l,e){"use strict";e.d(l,"a",function(){return a});e(1),e(16);var t=e(81),u=(e.n(t),e(40)),i=e.n(u),o=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})},r=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},a=function(){function n(n,l,e,t,u){this.navCtrl=n,this.loadingCtrl=l,this.globalService=e,this.documentService=t,this.alertCtrl=u,this.isLoggedIn=!1,this.loginState="Login",this.fileName="blockusign/pdf1.pdf"}return n.prototype.ionViewDidLoad=function(){return o(this,void 0,void 0,function(){return r(this,function(n){return this.ekUpload(),[2]})})},n.prototype.next=function(){this.navCtrl.push("AnnotatePage",{guid:this.documentService.currentDoc.guid})},n.prototype.saveFile=function(n){return o(this,void 0,void 0,function(){return r(this,function(l){switch(l.label){case 0:return[4,this.documentService.addDocument(n,this.pdfBuffer)];case 1:return l.sent(),this.next(),[2]}})})},n.prototype.getFile=function(){return o(this,void 0,void 0,function(){var n;return r(this,function(l){return n=this.documentService.getDocument(this.fileName,this.documentService.currentDoc.documentKey),this.pdfBuffer=n,[2]})})},n.prototype.loadFile=function(){var n=this;this.loading=this.loadingCtrl.create({content:"Please wait..."});var l=document.getElementById("file-upload"),e=l.files[0].size,t=(0).toString(),u=e.toString(),i=document.getElementById("file-upload").files;if(i.length){var o=i[0],r=parseInt(t)||0,a=parseInt(u)||o.size-1,s=new FileReader;s.onloadend=function(e){FileReader,n.newDocModal(l.files[0].name)};var c=o.slice(r,a+1);s.onload=function(l){var e=l.target.result;n.pdfBuffer=e;var t=new Uint8Array(e);n.createPdf(t)},s.readAsArrayBuffer(c)}else alert("Please select a file!")},n.prototype.createPdf=function(n){var l=this,e=window["pdfjs-dist/build/pdf"];e.workerSrc="//mozilla.github.io/pdf.js/build/pdf.worker.js",i.a.setStoreAdapter(new i.a.LocalStoreAdapter),e.getDocument({data:n}).promise.then(function(n){console.log("PDF loaded");n.getPage(1).then(function(n){console.log("Page loaded");var e=n.getViewport(1.5),t=document.getElementById("the-canvas"),u=t.getContext("2d");t.height=e.height,t.width=e.width,n.render({canvasContext:u,viewport:e}).then(function(){console.log("Page rendered"),l.loading.dismiss()})})},function(n){console.error(n),l.loading.dismiss()})},n.prototype.savePdfAsString=function(n){this.largeuint8ArrToString(n,function(n){btoa(n)})},n.prototype.getPdfFromString=function(n){var l=atob(n.replace(/\s/g,"")),e=new ArrayBuffer(l.length);new Uint8Array(e)},n.prototype.largeuint8ArrToString=function(n,l){var e=new Blob([n]),t=new FileReader;t.onload=function(n){l(n.target.result)},t.readAsBinaryString(e)},n.prototype.ekUpload=function(){var n=this;function l(n){var l=document.getElementById("file-drag");n.stopPropagation(),n.preventDefault(),l.className="dragover"===n.type?"hover":"modal-body file-upload"}function e(e){var t=e.target.files||e.dataTransfer.files;l(e);for(var u,o=0;u=t[o];o++)n.loadFile(),i(u)}function t(n){var l=document.getElementById("file-progress");n.lengthComputable&&(l.max=n.total)}function u(n){var l=document.getElementById("file-progress");n.lengthComputable&&(l.value=n.loaded)}function i(n){var l,e=new XMLHttpRequest,i=(document.getElementById("class-roster-file"),document.getElementById("file-progress"));e.upload&&(n.size<=2147483648?(i.style.display="inline",e.upload.addEventListener("loadstart",t,!1),e.upload.addEventListener("progress",u,!1),e.onreadystatechange=function(n){},e.open("POST",document.getElementById("file-upload-form").action,!0),e.setRequestHeader("X-File-Name",n.name),e.setRequestHeader("X-File-Size",n.size),e.setRequestHeader("Content-Type","multipart/form-data"),e.send(n)):(l="Please upload a smaller file (< 2048 MB).",document.getElementById("messages").innerHTML=l))}window.File&&window.FileList&&window.FileReader?function(){console.log("Upload Initialised");var n=document.getElementById("file-upload"),t=document.getElementById("file-drag");document.getElementById("submit-button"),n.addEventListener("change",e,!1),(new XMLHttpRequest).upload&&(t.addEventListener("dragover",l,!1),t.addEventListener("dragleave",l,!1),t.addEventListener("drop",e,!1))}():document.getElementById("file-drag").style.display="none"},n.prototype.newDocModal=function(n){var l=this;this.alertCtrl.create({title:"Document Name",inputs:[{name:"fileName",placeholder:"",value:n}],buttons:[{text:"Cancel",role:"cancel",handler:function(n){console.log("Cancel clicked")}},{text:"Ok",handler:function(n){l.saveFile(n.fileName)}}]}).present()},n.prototype.initCamera=function(){return o(this,void 0,void 0,function(){var n,l,e,t,u,i=this;return r(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:return n=o.sent(),l=n.find(function(n){return"videoinput"===n.kind&&n.label.includes("back")}),e={video:!l||{deviceId:{exact:l.deviceId}}},function(n,l){n.src=l,n.play()},t=function(n){navigator.mediaDevices.getUserMedia(e).then(function(l){var t=l.getVideoTracks();console.log("Got stream with constraints:",e),console.log("Using video device: "+t[0].label),window.stream=l,n.srcObject=l}).catch(function(n){alert("Not support get stream from camera!")})},u=$("#video")[0],t(u),this.canvasCamera=$("#canvasCamera")[0],this.cameraContext=this.canvasCamera.getContext("2d"),$("#snap").on("click",function(){i.cameraContext.drawImage(u,0,0,612,792)}),$("#downloadpdf").on("click",this.savePDF),[2]}})})},n.prototype.savePDF=function(){try{this.canvasCamera=$("#canvasCamera")[0];var n=this.canvasCamera.toDataURL("image/jpeg",1),l=new jsPDF("p","mm",[297,210]);l.addImage(n,"JPEG",5,5);var e=prompt("insert name of file");l.save(e+".pdf")}catch(n){alert("Error description: "+n.message)}},n.prototype.testPublicKeyFile=function(){var n=this,l=blockstack.getPublicKeyFromPrivate(blockstack.loadUserData().appPrivateKey);"nick tee"==blockstack.loadUserData().profile.name&&(this.testPutFile("02563f0f1d5c5429fa8fdb3d8fc4b0464dac70b07cd8249f0ef17bcf2c93ed7469"),this.testPutFile(l).then(function(){n.testGetFile(l)})),"Demo User BlockSign"==blockstack.loadUserData().profile.name&&this.testGetFile(l)},n.prototype.testPutFile=function(n){return blockstack.putFile("testFile.json","{stuff: 'from nicktee.id'}",{encrypt:n}).then(function(n){console.log("testPublicKeyFile ===> "+n)})},n.prototype.testGetFile=function(n){return blockstack.getFile("../../hub/18kTskBpTh1mznsypu1fhJ27dxbC1SwXEK/testFile.json",{decrypt:!0}).then(function(n){console.log("testPublicKeyFile ===> "+n)})},n}()},20:function(n,l,e){"use strict";e.d(l,"a",function(){return d});e(1);var t=e(270),u=e(81),i=(e.n(u),e(48)),o=(e.n(i),e(70)),r=(e.n(o),e(16),e(558)),a=(e.n(r),e(39),e(175)),s=(e.n(a),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),c=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},d=function(){function n(n,l,e){var t=this;this.events=n,this.http=l,this.blockStackService=e,this.indexFileName="blockusign/documents.index.json",this.urlBlockusignGlobalStore="https://gaia.blockstack.org/hub/1PoZGGAuQ4yPj72TrXbG4pKbgB9tvCUqQ1/blockusign",this.urlBlockusign="https://blockusign.co",console.log("Hello StorageServiceProvider Provider"),this.documentsList=[],this.getDocumentsIndex(!0).then(function(n){t.documentsList=n})}return n.prototype.getDocumentsIndex=function(n){return s(this,void 0,void 0,function(){var l,e,t,u;return c(this,function(i){switch(i.label){case 0:return n?[4,blockstack.getFile(this.indexFileName,{decrypt:!0})]:[3,4];case 1:return(l=i.sent())&&(this.documentsList=JSON.parse(l)),null!=this.documentsList&&l?[3,3]:(e=this,u=(t=JSON).parse,[4,blockstack.putFile(this.indexFileName,"[]",{encrypt:!0})]);case 2:e.documentsList=u.apply(t,[i.sent()]),i.label=3;case 3:this.documentsListFiltered=this.documentsList,i.label=4;case 4:return[2,this.documentsList]}})})},n.prototype.addDocument=function(n,l){return s(this,void 0,void 0,function(){var e,u,i,o,r;return c(this,function(a){switch(a.label){case 0:return(e=new t.a).fileName=n,e.documentKey=this.generateKey(),e.code=this.generateKey(),[4,this.writeCode(e.guid,e.code)];case 1:return a.sent(),[4,this.addDocStoragePath(e.guid,e.code,blockstack.loadUserData().profile.apps[window.location.origin])];case 2:return a.sent(),e.pathAnnotatedDoc=blockstack.loadUserData().profile.apps[window.location.origin],[4,this.blockStackService.getProfileData()];case 3:return u=a.sent(),i=null,u&&(i=JSON.parse(u).email),o=e,r={name:blockstack.loadUserData().profile.name,userId:blockstack.loadUserData().username,email:i},[4,this.blockStackService.getAppPublicKey()];case 4:return o.paths=[(r.appPublicKey=a.sent(),r.pathToStorage=blockstack.loadUserData().profile.apps[window.location.origin],r)],e.signer=[],this.documentsList.push(e),[4,blockstack.putFile(this.indexFileName,JSON.stringify(this.documentsList),{encrypt:!0})];case 5:return a.sent(),this.docBuffer=l,this.currentDoc=e,[4,this.addDocumentBytes(e.guid,l,e.documentKey)];case 6:return a.sent(),[2,this.documentsList]}})})},n.prototype.updateDocument=function(n,l){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return-1===(e=this.documentsList.findIndex(function(l){return l.guid===n}))?[3,2]:(this.documentsList[e]=l,[4,blockstack.putFile(this.indexFileName,JSON.stringify(this.documentsList),{encrypt:!0})]);case 1:return t.sent(),[2,!0];case 2:return[2,!1]}})})},n.prototype.removeDocument=function(n){return s(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return this.documentsList=this.documentsList.remove(n),[4,blockstack.putFile(this.indexFileName,JSON.stringify(this.documentsList),{encrypt:!0})];case 1:return l.sent(),[4,this.removeDocumentBytes(n.guid)];case 2:return l.sent(),[2,this.documentsList]}})})},n.prototype.addDocumentBytes=function(n,l,e){return s(this,void 0,void 0,function(){var t;return c(this,function(u){switch(u.label){case 0:return t=this.ecryptDoc(l,e),[4,this.createAnnotations(n)];case 1:return u.sent(),[4,this.getLog(n)];case 2:return u.sent(),[2,blockstack.putFile(n+".pdf",t,{encrypt:!1}).then(function(n){})]}})})},n.prototype.getDocument=function(n,l){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return[4,blockstack.getFile(n,{decrypt:!1})];case 1:return(e=t.sent())?[2,this.decryptDoc(e,l)]:[2,null]}})})},n.prototype.getDocumentByPath=function(n,l){return s(this,void 0,void 0,function(){var e,t;return c(this,function(u){switch(u.label){case 0:return[4,this.http.get(n).toPromise()];case 1:return(e=u.sent())?(t=e.text(),[2,this.decryptDoc(t,l)]):[2,Object(a.of)(null)]}})})},n.prototype.copyDocument=function(n,l,e){return s(this,void 0,void 0,function(){var t,u,i,o,a,s,d,h,p,f,g,m,v=this;return c(this,function(c){switch(c.label){case 0:return console.log("file buffer",e),console.log("guid",l),console.log("doc",n),t=null,blockstack.loadUserData().profile.name&&(t=blockstack.loadUserData().profile.name),u=null,blockstack.loadUserData().username&&(u=blockstack.loadUserData().username),[4,this.blockStackService.getProfileData()];case 1:return i=c.sent(),o=null,i&&(o=JSON.parse(i).email),s=(a=n.paths).push,d={name:t,userId:u,email:o},[4,this.blockStackService.getAppPublicKey()];case 2:return s.apply(a,[(d.appPublicKey=c.sent(),d.pathToStorage=blockstack.loadUserData().profile.apps[window.location.origin],d)]),this.documentsList.push(n),console.log("new doc list",this.documentsList),[4,blockstack.putFile(this.indexFileName,JSON.stringify(this.documentsList),{encrypt:!0})];case 3:return c.sent(),this.currentDoc=n,this.docBuffer=e,h=this.ecryptDoc(e,this.currentDoc.documentKey),[4,blockstack.putFile(l+".pdf",h,{encrypt:!1}).then(function(n){})];case 4:return c.sent(),[4,this.addDocStoragePath(n.guid,n.code,blockstack.loadUserData().profile.apps[window.location.origin])];case 5:return c.sent(),[4,this.getAnnotationsByPath(this.currentDoc.pathAnnotatedDoc+l+".annotations.json",this.currentDoc.documentKey)];case 6:return p=c.sent(),this.saveAnnotations(l,p?this.currentDocAnnotations.annotations:""),f=jslinq(this.currentDoc.paths).where(function(n){return n.email!=v.blockStackService.profile.email}).toList(),[4,this.getLogByPath(f[0].pathToStorage+l+".log.json",this.currentDoc.documentKey)];case 7:return(g=c.sent())?(m=r.save(g),[4,this.saveLog(l,m)]):[3,9];case 8:return c.sent(),[3,9];case 9:return[2,this.documentsList]}})})},n.prototype.documentExists=function(n){var l=!1;return jslinq(this.documentsList).where(function(l){return l.guid==n}).toList().length>0&&(l=!0),l},n.prototype.removeDocumentBytes=function(n){return s(this,void 0,void 0,function(){return c(this,function(l){switch(l.label){case 0:return[4,blockstack.putFile(n+".annotations.json","",{encrypt:!1})];case 1:return l.sent(),[4,blockstack.putFile(n+".log.json","",{encrypt:!1})];case 2:return l.sent(),[2,blockstack.putFile(n+".pdf","",{encrypt:!1}).then(function(n){})]}})})},n.prototype.createAnnotations=function(n){return s(this,void 0,void 0,function(){var l,e,t;return c(this,function(u){switch(u.label){case 0:return{annotations:""},this.currentDocAnnotationsDoc=r.init(),l=blockstack.loadUserData().profile.name+" created annotations on "+this.getDate(),this.currentDocAnnotationsDoc=r.change(this.currentDocAnnotationsDoc,l,function(n){n.annots=[]}),e=r.save(this.currentDocAnnotationsDoc),t=this.encryptString(e,this.currentDoc.documentKey),[4,blockstack.putFile(n+".annotations.json",t,{encrypt:!1})];case 1:return[2,u.sent()]}})})},n.prototype.saveAnnotations=function(n,l){return s(this,void 0,void 0,function(){var e,t,u,i;return c(this,function(o){switch(o.label){case 0:return e={annotations:l},t=blockstack.loadUserData().profile.name+" added annotation on "+this.getDate(),this.currentDocAnnotationsDoc=r.change(this.currentDocAnnotationsDoc,t,function(n){n.annots.insertAt(0,e)}),u=r.save(this.currentDocAnnotationsDoc),i=this.encryptString(u,this.currentDoc.documentKey),[4,blockstack.putFile(n+".annotations.json",i,{encrypt:!1})];case 1:return[2,o.sent()]}})})},n.prototype.getAnnotations=function(n){return s(this,void 0,void 0,function(){var l,e,t,u,i,o,a,s,d;return c(this,function(c){switch(c.label){case 0:return l=n+".annotations.json",[4,blockstack.getFile(l,{decrypt:!1})];case 1:return(e=c.sent())?(t=this.decryptString(e,this.currentDoc.documentKey),this.currentDocAnnotationsDoc=r.load(t),this.currentDocAnnotations=this.currentDocAnnotationsDoc.annots[0],u=jslinq(this.docStorageMaps.storagePaths).where(function(n){return n!=blockstack.loadUserData().profile.apps[window.location.origin]}).toList(),(i=u[0])?[4,this.http.get(i+l).toPromise()]:[3,3]):[3,4];case 2:(o=c.sent())&&(a=o.text(),a=this.decryptString(a,this.currentDoc.documentKey),s=r.load(a),d=r.merge(s,this.currentDocAnnotationsDoc),this.currentDocAnnotationsDoc=d),c.label=3;case 3:this.currentDocAnnotations=this.currentDocAnnotationsDoc.annots[0],c.label=4;case 4:return e||(this.currentDocAnnotations=""),[2,this.currentDocAnnotations]}})})},n.prototype.getAnnotationsByPath=function(n,l){return s(this,void 0,void 0,function(){var e,t,u;return c(this,function(i){switch(i.label){case 0:return[4,this.http.get(n).toPromise()];case 1:return(e=i.sent())&&(t=JSON.stringify(e.json()),u=this.decryptString(t,l),this.currentDocAnnotationsDoc=r.load(u),this.currentDocAnnotations=this.currentDocAnnotationsDoc.annots[0]),e||(this.currentDocAnnotations=""),[2,this.currentDocAnnotations]}})})},n.prototype.setCurrentDoc=function(n){return s(this,void 0,void 0,function(){var l;return c(this,function(e){switch(e.label){case 0:return this.currentDoc=this.documentsList.find(function(l){return l.guid==n}),[4,this.getDocStorageMaps(this.currentDoc.guid)];case 1:return e.sent(),this.events.publish("documentService:setCurrentDoc",this.currentDoc),l="span:contains('"+this.currentDoc.fileName+"')",$(document).ready(function(){$(".channels-list-text li").removeClass("active"),$(l).parent().addClass("active")}),[2]}})})},n.prototype.getLog=function(n){return s(this,void 0,void 0,function(){var l,e,u,i,o,a,s,d,h,p,f;return c(this,function(c){switch(c.label){case 0:l=n+".log.json",c.label=1;case 1:return c.trys.push([1,8,,9]),[4,blockstack.getFile(l,{decrypt:!1})];case 2:return(e=c.sent())?(this.logDoc=this.decryptString(e,this.currentDoc.documentKey),this.logDoc=r.load(this.logDoc),this.log=this.logDoc.log,u=jslinq(this.docStorageMaps.storagePaths).where(function(n){return n!=blockstack.loadUserData().profile.apps[window.location.origin]}).toList(),(i=u[0])?[4,this.http.get(i+l).toPromise()]:[3,4]):[3,5];case 3:(o=c.sent())&&(a=o.text(),a=this.decryptString(a,this.currentDoc.documentKey),s=r.load(a),d=r.merge(s,this.logDoc),this.logDoc=d),c.label=4;case 4:return this.log=this.logDoc.log,[3,7];case 5:return(h=new t.b).messages=[],(p=new t.c).createdBy=blockstack.loadUserData().username,p.createdByName=blockstack.loadUserData().profile.name,p.email=this.blockStackService.profile.email,p.message="Created Doc",h.messages.push(p),this.logDoc=r.init(),this.logDoc=r.change(this.logDoc,"Initialize log - "+this.getDate(),function(n){n.log=h}),f=r.save(this.logDoc),f=this.encryptString(f,this.currentDoc.documentKey),[4,blockstack.putFile(l,f,{encrypt:!1})];case 6:f=c.sent(),f=this.decryptString(f,this.currentDoc.documentKey),console.log("logstr",f),this.logDoc=r.load(f),this.log=this.logDoc.log,c.label=7;case 7:return[2,this.log];case 8:return c.sent(),[3,9];case 9:return[2]}})})},n.prototype.saveLog=function(n,l){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return e=n+".log.json",l=this.encryptString(l,this.currentDoc.documentKey),[4,blockstack.putFile(e,l,{encrypt:!1})];case 1:return l=t.sent(),[2]}})})},n.prototype.getLogByPath=function(n,l){return s(this,void 0,void 0,function(){var e,t,u;return c(this,function(i){switch(i.label){case 0:return[4,this.http.get(n).toPromise()];case 1:return(e=i.sent())&&(t=JSON.stringify(e.json()),u=this.decryptString(t,l),this.logDoc=r.load(u),this.log=this.logDoc.log),e||(this.log=null),[2,this.logDoc]}})})},n.prototype.addMessage=function(n,l){return s(this,void 0,void 0,function(){var e,u,i;return c(this,function(o){switch(o.label){case 0:return e=n+".log.json",[4,this.getLog(n)];case 1:return o.sent()?((u=new t.c).message=l,u.createdBy=blockstack.loadUserData().username,u.createdByName=blockstack.loadUserData().profile.name,u.email=this.blockStackService.profile.email,this.logDoc=r.change(this.logDoc,u.createdByName+" added message at "+this.getDate(),function(n){n.log.messages.push(u)}),i=r.save(this.logDoc),i=this.encryptString(i,this.currentDoc.documentKey),[4,blockstack.putFile(e,i,{encrypt:!1})]):[3,3];case 2:return o.sent(),this.log=this.logDoc.log,this.events.publish("documentService:addedChat",u),[2,this.log];case 3:console.error("error getting log file: "+e),o.label=4;case 4:return[2]}})})},n.prototype.updatePartnerPathData=function(){return s(this,void 0,void 0,function(){return c(this,function(n){return[2]})})},n.prototype.writeCode=function(n,l){return s(this,void 0,void 0,function(){return c(this,function(e){return[2,this.http.get(this.urlBlockusign+"/api/Code?docGuid="+n+"&code="+l).toPromise()]})})},n.prototype.addDocStoragePath=function(n,l,e){return s(this,void 0,void 0,function(){var t;return c(this,function(u){return t=encodeURIComponent(e),[2,this.http.get(this.urlBlockusign+("/api/DocStorageMap?docGuid="+n+"&code="+l+"&storagePath="+t)).toPromise()]})})},n.prototype.getDocStorageMaps=function(n){return s(this,void 0,void 0,function(){var l;return c(this,function(e){switch(e.label){case 0:return[4,this.http.get(this.urlBlockusignGlobalStore+"/"+n+".doc.storage.map.json").toPromise()];case 1:return l=e.sent(),this.docStorageMaps=l.json(),[2,this.docStorageMaps]}})})},n.prototype.ecryptDoc=function(n,l){var e=sjcl.codec.arrayBuffer.toBits(n),t=sjcl.codec.base64.fromBits(e);return sjcl.encrypt(l,t)},n.prototype.decryptDoc=function(n,l){var e=sjcl.decrypt(l,n),t=sjcl.codec.base64.toBits(e);return sjcl.codec.arrayBuffer.fromBits(t)},n.prototype.encryptString=function(n,l){return sjcl.encrypt(l,n)},n.prototype.decryptString=function(n,l){return sjcl.decrypt(l,n)},n.prototype.generateKey=function(){return window.guid()},n.prototype.resetStorage=function(){return s(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,blockstack.putFile(this.indexFileName,"[]",{encrypt:!0})];case 1:return n.sent(),[2]}})})},n.prototype.getDate=function(){return Date()},n.prototype.filterDocuments=function(n){return s(this,void 0,void 0,function(){return c(this,function(l){return this.documentsListFiltered="all"==n?this.documentsList:jslinq(this.documentsList).where(function(l){return l.signer[0]==n}).toList(),[2,this.documentsListFiltered]})})},n}()},219:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){return function(){}}()},220:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){return function(){}}()},221:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){return function(){}}()},222:function(n,l,e){"use strict";e.d(l,"a",function(){return r});e(1),e(16);var t=e(203),u=(e.n(t),e(629)),i=(e.n(u),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),o=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},r=function(){function n(n,l,e,t,i,o,r){var a=this;if(this.navCtrl=n,this.navParams=l,this.documentService=e,this.emailService=t,this.blockStackService=i,this.chg=o,this.loadingCtrl=r,this.email="",this.people3=[],this.people3Loading=!1,this.selectedUser=[],this.people3Typeahead=new u.Subject,this.navParams.get("guid")&&!this.documentService.currentDoc){var s=this.navParams.get("guid");this.documentService.getDocumentsIndex(!0).then(function(n){a.documentService.documentsList=n,a.documentService.setCurrentDoc(s)})}}return n.prototype.ionViewDidLoad=function(){return i(this,void 0,void 0,function(){return o(this,function(n){return console.log("ionViewDidLoad SignPage"),this.lookup(),this.loadPeople3(),[2]})})},n.prototype.next=function(){this.navCtrl.push("SignPage",{guid:this.documentService.currentDoc.guid})},n.prototype.back=function(){this.navCtrl.push("AnnotatePage",{guid:this.documentService.currentDoc.guid})},n.prototype.getUrl=function(){return window.location.href},n.prototype.lookup=function(){blockstack.lookupProfile("blockusign1.id").then(function(n){}).catch(function(n){console.log("could not resolve profile")})},n.prototype.searchUser=function(n){return i(this,void 0,void 0,function(){return o(this,function(l){switch(l.label){case 0:return[4,this.blockStackService.searchUser(n)];case 1:return l.sent(),[2]}})})},n.prototype.loadPeople3=function(){var n=this;this.people3Typeahead.pipe(Object(t.tap)(function(){return n.people3Loading=!0}),Object(t.distinctUntilChanged)(),Object(t.debounceTime)(375),Object(t.switchMap)(function(l){return n.blockStackService.searchUser(l)})).subscribe(function(l){n.people3=l,n.people3Loading=!1,console.log("ppl loading false")},function(){n.people3=[],console.log("[]")})},n.prototype.sendEmail=function(n){return i(this,void 0,void 0,function(){var n,l;return o(this,function(e){switch(e.label){case 0:return this.email?(this.loading=this.loadingCtrl.create({content:"Please wait..."}),this.loading.present(),n=window.location.origin+"/#/sign/"+this.documentService.currentDoc.guid+"/?docData="+btoa(JSON.stringify(this.documentService.currentDoc)),l=blockstack.loadUserData().profile.name+" has sent you a document to sign - "+this.documentService.currentDoc.fileName,[4,this.emailService.sendEmail(this.email,l,"Please click this link and sign the document. Thanks! <br/><br/><a href='"+n+"' >document link</a>")]):(alert("Please enter an email address"),[2]);case 1:return e.sent(),this.documentService.currentDoc.signer.push(this.email),[4,this.documentService.updateDocument(this.documentService.currentDoc.guid,this.documentService.currentDoc)];case 2:return e.sent(),this.loading.dismiss(),alert("Email sent!"),[2]}})})},n.prototype.clickedUser=function(){setTimeout(function(){alert("Email not found. Please enter below")},1e3)},n}()},223:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){return function(){}}()},224:function(n,l,e){"use strict";e.d(l,"a",function(){return i});e(1),e(16),e(72);var t=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})},u=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},i=function(){function n(n,l,e){this.navCtrl=n,this.navParams=l,this.documentService=e}return n.prototype.ionViewDidLoad=function(){this.init()},n.prototype.init=function(){return t(this,void 0,void 0,function(){var n,l,e,t,i,o,r,a,s=this;return u(this,function(u){switch(u.label){case 0:return n=getQueryParam("docData"),!this.navParams.get("guid")||this.documentService.currentDoc||n?[3,1]:(l=this.navParams.get("guid"),this.documentService.getDocumentsIndex(!0).then(function(n){s.documentService.documentsList=n,s.documentService.setCurrentDoc(l)}),[3,8]);case 1:return this.navParams.get("guid")&&!this.documentService.currentDoc&&n?(e=atob(n),t=JSON.parse(e),[4,this.documentService.getDocumentsIndex(!0)]):[3,7];case 2:return i=u.sent(),this.documentService.documentsList=i,o=this.navParams.get("guid"),this.documentService.documentExists(o)?(this.documentService.setCurrentDoc(o),[3,6]):[3,3];case 3:return r=t.pathAnnotatedDoc+this.navParams.get("guid")+".pdf",console.log(r),[4,this.documentService.getDocumentByPath(r,t.documentKey)];case 4:return a=u.sent(),[4,this.documentService.copyDocument(t,o,a)];case 5:u.sent(),this.blockPdf.ngOnInit(),u.label=6;case 6:return[3,8];case 7:console.log("Error, must pass in guid"),u.label=8;case 8:return console.log("ionViewDidLoad SignPage"),this.name=blockstack.loadUserData().profile.name,[2]}})})},n.prototype.next=function(){this.navCtrl.push("ReviewPage",{guid:this.documentService.currentDoc.guid})},n.prototype.back=function(){this.navCtrl.push("EmailPage",{guid:this.documentService.currentDoc.guid})},n}()},225:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){return function(){}}()},237:function(n,l){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=237},269:function(n,l,e){var t={"../pages/annotate/annotate.module.ngfactory":[937,4],"../pages/email/email.module.ngfactory":[940,3],"../pages/home/home.module.ngfactory":[942,2],"../pages/review/review.module.ngfactory":[939,1],"../pages/sign/sign.module.ngfactory":[941,0]};function u(n){var l=t[n];return l?e.e(l[1]).then(function(){return e(l[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}u.keys=function(){return Object.keys(t)},u.id=269,n.exports=u},270:function(n,l,e){"use strict";e.d(l,"a",function(){return t}),e.d(l,"b",function(){return u}),e.d(l,"c",function(){return i});var t=function(){return function(){this.guid=window.guid(),this.createdAt=Date.now(),this.updatedAt=Date.now(),this.hasAnnotations=!1,this.step="Annotate",this.isCompleted=!1}}(),u=function(){return function(){this.guid=window.guid(),this.createdAt=Date.now(),this.updatedAt=Date.now()}}(),i=function(){return function(){this.guid=window.guid(),this.createdAt=Date.now(),this.updatedAt=Date.now()}}()},39:function(n,l,e){"use strict";e.d(l,"a",function(){return s});e(1);var t=e(81),u=(e.n(t),e(47)),i=e(48),o=(e.n(i),e(70)),r=(e.n(o),e(16),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),a=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},s=function(){function n(n,l){this.events=n,this.http=l,this.picCache=[],this.blockusignProfileUrl="blockusign.profile.json",this.url="http://localhost:5000/api/profile"}return n.prototype.searchUser=function(n){return r(this,void 0,void 0,function(){return a(this,function(l){switch(l.label){case 0:return[4,this.http.get("https://core.blockstack.org/v1/search?query="+n).map(function(n){return n.json().results}).toPromise()];case 1:return[2,l.sent()]}})})},n.prototype.getPicUrl=function(n){return r(this,void 0,void 0,function(){var l,e,t;return a(this,function(u){switch(u.label){case 0:l="http://www.gravatar.com/avatar/?d=identicon",u.label=1;case 1:return u.trys.push([1,3,,4]),n?this.picCache.filter(function(l){return l.id===n})[0]?[2,this.picCache.filter(function(l){return l.id===n})[0].pic]:[4,this.http.get("https://core.blockstack.org/v1/search?query="+n).toPromise()]:[2,l];case 2:return e=u.sent(),(t=JSON.parse(e.text())).results.length>0&&(l=t.results[0].profile.image[0].contentUrl),this.picCache.push({id:n,pic:l}),[3,4];case 3:return u.sent(),console.log("Unable to getpic url"),[3,4];case 4:return[2,l]}})})},n.prototype.getProfileData=function(){return r(this,void 0,void 0,function(){var n,l;return a(this,function(e){switch(e.label){case 0:return[4,blockstack.getFile(this.blockusignProfileUrl,{decrypt:!1})];case 1:return n=e.sent(),(l=JSON.parse(n))&&(this.profile=l),[2,n]}})})},n.prototype.setProfileData=function(n){return r(this,void 0,void 0,function(){var l,e;return a(this,function(t){switch(t.label){case 0:return l=blockstack.loadUserData().profile.apps[window.location.origin],e={email:n,storagePath:l},[4,this.getAppPublicKey()];case 1:return e.appPublicKey=t.sent(),[4,blockstack.putFile(this.blockusignProfileUrl,JSON.stringify(e),{encrypt:!1})];case 2:return[2,t.sent()]}})})},n.prototype.clearProfileData=function(){return r(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,blockstack.putFile(this.blockusignProfileUrl,JSON.stringify({}),{encrypt:!1})];case 1:return[2,n.sent()]}})})},n.prototype.getAppPublicKey=function(){return r(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,blockstack.getPublicKeyFromPrivate(blockstack.loadUserData().appPrivateKey)];case 1:return[2,n.sent()]}})})},n.prototype.writeGlobalProfile=function(){return r(this,void 0,void 0,function(){var n;return a(this,function(l){switch(l.label){case 0:return(n=new u.j).headers=new u.d({"Content-Type":"application/json"}),[4,this.http.post("url",JSON.stringify(this.profile),n)];case 1:return[2,l.sent()]}})})},n}()},419:function(n,l,e){"use strict";e.d(l,"a",function(){return d}),l.b=h;var t=e(0),u=e(183),i=e(79),o=e(6),r=e(21),a=e(416),s=e(103),c=e(4),d=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function h(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,55,"div",[["class","block-chat"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵeld"](2,0,null,null,52,"ion-fab",[["bottom",""],["right",""]],null,null,null,u.b,u.a)),t["ɵdid"](3,1228800,null,2,i.a,[o.a],null,null),t["ɵqud"](335544320,1,{_mainButton:0}),t["ɵqud"](603979776,2,{_fabLists:1}),(n()(),t["ɵted"](-1,0,["\n    "])),(n()(),t["ɵeld"](7,0,null,0,45,"div",[["class","shadow6"],["id","live-chat"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n\n      "])),(n()(),t["ɵeld"](9,0,null,null,11,"header",[["class","clearfix"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.minimize()&&t);return t},null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](12,0,null,null,3,"h4",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](14,0,null,null,0,"span",[["class","chat-head"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,[" - Log\n         \n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](18,0,null,null,1,"span",[["class","chat-message-counter"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["3"])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](22,0,null,null,28,"div",[["class","chat"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](24,0,null,null,4,"div",[["class","chat-history"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](26,0,null,null,1,"div",[["class","log-history"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n            \n          "])),(n()(),t["ɵted"](-1,null,["\n          \n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](31,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var u=!0;"submit"===l&&(u=!1!==t["ɵnov"](n,33).onSubmit(e)&&u);"reset"===l&&(u=!1!==t["ɵnov"](n,33).onReset()&&u);return u},null,null)),t["ɵdid"](32,16384,null,0,r.n,[],null,null),t["ɵdid"](33,4210688,null,0,r.j,[[8,null],[8,null]],null,null),t["ɵprd"](2048,null,r.b,null,[r.j]),t["ɵdid"](35,16384,null,0,r.i,[r.b],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](37,0,null,null,11,"fieldset",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n            "])),(n()(),t["ɵeld"](39,0,null,null,5,"input",[["autofocus",""],["name","addMsg"],["placeholder","Type your message…"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0,i=n.component;"input"===l&&(u=!1!==t["ɵnov"](n,40)._handleInput(e.target.value)&&u);"blur"===l&&(u=!1!==t["ɵnov"](n,40).onTouched()&&u);"compositionstart"===l&&(u=!1!==t["ɵnov"](n,40)._compositionStart()&&u);"compositionend"===l&&(u=!1!==t["ɵnov"](n,40)._compositionEnd(e.target.value)&&u);"ngModelChange"===l&&(u=!1!==(i.message=e)&&u);"keydown.enter"===l&&(u=!1!==i.addMessage(e)&&u);return u},null,null)),t["ɵdid"](40,16384,null,0,r.c,[t.Renderer2,t.ElementRef,[2,r.a]],null,null),t["ɵprd"](1024,null,r.f,function(n){return[n]},[r.c]),t["ɵdid"](42,671744,null,0,r.k,[[2,r.b],[8,null],[8,null],[2,r.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,r.g,null,[r.k]),t["ɵdid"](44,16384,null,0,r.h,[r.g],null,null),(n()(),t["ɵted"](-1,null,[" \n            "])),(n()(),t["ɵeld"](46,0,null,null,1,"ion-spinner",[["class","loadSpin"]],[[2,"spinner-paused",null]],null,null,a.b,a.a)),t["ɵdid"](47,114688,null,0,s.a,[c.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,null,[" \n          "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n\n    "])),(n()(),t["ɵted"](-1,0,["\n    "])),(n()(),t["ɵted"](-1,0,["\n  "])),(n()(),t["ɵted"](-1,null,["\n\n"]))],function(n,l){n(l,42,0,"addMsg",l.component.message),n(l,47,0)},function(n,l){n(l,31,0,t["ɵnov"](l,35).ngClassUntouched,t["ɵnov"](l,35).ngClassTouched,t["ɵnov"](l,35).ngClassPristine,t["ɵnov"](l,35).ngClassDirty,t["ɵnov"](l,35).ngClassValid,t["ɵnov"](l,35).ngClassInvalid,t["ɵnov"](l,35).ngClassPending),n(l,39,0,t["ɵnov"](l,44).ngClassUntouched,t["ɵnov"](l,44).ngClassTouched,t["ɵnov"](l,44).ngClassPristine,t["ɵnov"](l,44).ngClassDirty,t["ɵnov"](l,44).ngClassValid,t["ɵnov"](l,44).ngClassInvalid,t["ɵnov"](l,44).ngClassPending),n(l,46,0,t["ɵnov"](l,47)._paused)})}},547:function(n,l,e){"use strict";e.d(l,"a",function(){return j});var t=e(0),u=e(83),i=e(29),o=e(4),r=e(6),a=e(11),s=e(12),c=e(33),d=e(8),h=e(23),p=e(105),f=e(71),g=e(20),m=e(139),v=e(72),b=e(19),y=e(45),w=e(419),k=e(97),D=e(84),S=e(39),C=e(154),x=t["ɵcrt"]({encapsulation:0,styles:["annotate.scss"],data:{}});function P(n){return t["ɵvid"](0,[t["ɵqud"](402653184,1,{blockChat:0}),(n()(),t["ɵeld"](1,0,null,null,15,"ion-content",[["class","no-overflow-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,u.b,u.a)),t["ɵdid"](2,4374528,null,0,i.a,[o.a,r.a,a.a,t.ElementRef,t.Renderer,s.a,c.a,t.NgZone,[2,d.a],[2,h.a]],null,null),(n()(),t["ɵted"](-1,1,["\n \n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](5,0,null,1,2,"block-steps",[["activeStep","2"]],null,null,null,p.b,p.a)),t["ɵdid"](6,49152,null,0,f.a,[h.a,g.a],{activeStep:[0,"activeStep"]},null),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,[" \n        \n\n  "])),(n()(),t["ɵeld"](9,16777216,null,1,2,"block-pdf",[["showButtons","true"],["showSignHere","true"],["showSignature","true"],["showToolBar","true"]],null,null,null,m.b,m.a)),t["ɵdid"](10,245760,null,0,v.a,[h.a,b.a,g.a,t.ChangeDetectorRef,t.ViewContainerRef,y.a],{showToolBar:[0,"showToolBar"],showSignature:[1,"showSignature"],showSignHere:[2,"showSignHere"],showButtons:[3,"showButtons"]},null),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](13,0,null,1,2,"block-chat",[],null,null,null,w.b,w.a)),t["ɵdid"](14,245760,[[1,4],["blockChat",4]],0,k.a,[g.a,D.a,S.a],null,null),(n()(),t["ɵted"](-1,null,["\n    \n  "])),(n()(),t["ɵted"](-1,1,["\n\n"]))],function(n,l){n(l,6,0,"2");n(l,10,0,"true","true","true","true"),n(l,14,0)},function(n,l){n(l,1,0,t["ɵnov"](l,2).statusbarPadding,t["ɵnov"](l,2)._hasRefresher)})}var j=t["ɵccf"]("page-annotate",C.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-annotate",[],null,null,null,P,x)),t["ɵdid"](1,49152,null,0,C.a,[h.a,b.a,g.a,D.a],null,null)],null,null)},{},{},[])},548:function(n,l,e){"use strict";e.d(l,"a",function(){return L});var t=e(0),u=e(83),i=e(29),o=e(4),r=e(6),a=e(11),s=e(12),c=e(33),d=e(8),h=e(23),p=e(68),f=e(69),g=e(67),m=e(105),v=e(71),b=e(20),y=e(60),w=e(35),k=e(139),D=e(72),S=e(19),C=e(45),x=e(155),P=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function j(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,37,"ion-content",[["class","no-overflow-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,u.b,u.a)),t["ɵdid"](1,4374528,null,0,i.a,[o.a,r.a,a.a,t.ElementRef,t.Renderer,s.a,c.a,t.NgZone,[2,d.a],[2,h.a]],null,null),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](3,0,null,1,18,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](4,16384,null,0,p.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](6,0,null,null,14,"ion-row",[["class","row"]],null,null,null,null,null)),t["ɵdid"](7,16384,null,0,f.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](9,0,null,null,10,"ion-col",[["class","col"],["width-100",""]],null,null,null,null,null)),t["ɵdid"](10,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](12,0,null,null,2,"block-steps",[["activeStep","5"]],null,null,null,m.b,m.a)),t["ɵdid"](13,49152,null,0,v.a,[h.a,b.a],{activeStep:[0,"activeStep"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](16,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](18,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](23,0,null,1,8,"div",[["style","padding: 20px 20px 20px 20px"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](25,0,null,null,2,"button",[["ion-button",""],["style","border-radius: 30px"]],null,null,null,y.b,y.a)),t["ɵdid"](26,1097728,null,0,w.a,[[8,""],o.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,0,["\n          Save to Blockchain as Smart Contract\n        "])),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](29,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Coming Soon!"])),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n \n\n  "])),(n()(),t["ɵeld"](33,16777216,null,1,2,"block-pdf",[["locked","true"],["marginTop","0px"]],null,null,null,k.b,k.a)),t["ɵdid"](34,245760,null,0,D.a,[h.a,S.a,b.a,t.ChangeDetectorRef,t.ViewContainerRef,C.a],{locked:[0,"locked"],marginTop:[1,"marginTop"]},null),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵted"](-1,1,["\n  \n"])),(n()(),t["ɵted"](-1,1,["\n\n"])),(n()(),t["ɵted"](-1,null,["\n"]))],function(n,l){n(l,13,0,"5");n(l,34,0,"true","0px")},function(n,l){n(l,0,0,t["ɵnov"](l,1).statusbarPadding,t["ɵnov"](l,1)._hasRefresher)})}var L=t["ɵccf"]("page-review",x.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-review",[],null,null,null,j,P)),t["ɵdid"](1,49152,null,0,x.a,[h.a,S.a,b.a],null,null)],null,null)},{},{},[])},549:function(n,l,e){"use strict";e.d(l,"a",function(){return B});var t=e(0),u=e(83),i=e(29),o=e(4),r=e(6),a=e(11),s=e(12),c=e(33),d=e(8),h=e(23),p=e(68),f=e(69),g=e(67),m=e(105),v=e(71),b=e(20),y=e(887),w=e(85),k=e(21),D=e(60),S=e(35),C=e(139),x=e(72),P=e(19),j=e(45),L=e(222),R=e(141),E=e(39),T=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function A(n){return t["ɵvid"](0,[(n()(),t["ɵted"](-1,null,["\n            "])),(n()(),t["ɵeld"](1,0,null,null,3,"span",[["class","ng-value-label"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵeld"](3,0,null,null,0,"img",[["height","20px"],["width","20px"]],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵted"](4,null,[" ",""])),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵeld"](6,0,null,null,1,"span",[["aria-hidden","true"],["class","ng-value-icon right"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.context.clear(n.context.item)&&t);return t},null,null)),(n()(),t["ɵted"](-1,null,["×"])),(n()(),t["ɵted"](-1,null,["\n          "]))],null,function(n,l){n(l,3,0,l.context.item.profile.image&&l.context.item.profile.image[0].contentUrl),n(l,4,0,l.context.item.username)})}function F(n){return t["ɵvid"](0,[(n()(),t["ɵted"](-1,null,["\n            "])),(n()(),t["ɵeld"](1,0,null,null,3,"span",[["style","width:100%"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.clickedUser()&&t);return t},null,null)),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](3,0,null,null,0,"img",[["height","20px"],["width","20px"]],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵted"](4,null,[" ","\n            "])),(n()(),t["ɵted"](-1,null,["\n          "]))],null,function(n,l){n(l,3,0,l.context.item.profile.image&&l.context.item.profile.image[0].contentUrl),n(l,4,0,l.context.item.username)})}function I(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,90,"ion-content",[["class","no-overflow-page email-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,u.b,u.a)),t["ɵdid"](1,4374528,null,0,i.a,[o.a,r.a,a.a,t.ElementRef,t.Renderer,s.a,c.a,t.NgZone,[2,d.a],[2,h.a]],null,null),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](3,0,null,1,18,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](4,16384,null,0,p.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](6,0,null,null,14,"ion-row",[["class","row"]],null,null,null,null,null)),t["ɵdid"](7,16384,null,0,f.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](9,0,null,null,10,"ion-col",[["class","col"],["width-100",""]],null,null,null,null,null)),t["ɵdid"](10,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n\n        "])),(n()(),t["ɵeld"](12,0,null,null,2,"block-steps",[["activeStep","3"]],null,null,null,m.b,m.a)),t["ɵdid"](13,49152,null,0,v.a,[h.a,b.a],{activeStep:[0,"activeStep"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n\n\n        "])),(n()(),t["ɵeld"](16,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](18,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](23,0,null,1,61,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](24,16384,null,0,p.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](26,0,null,null,57,"ion-row",[["align-items-left",""],["class","row"]],null,null,null,null,null)),t["ɵdid"](27,16384,null,0,f.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](29,0,null,null,26,"ion-col",[["class","col"]],null,null,null,null,null)),t["ɵdid"](30,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](32,0,null,null,22,"ng-select",[["bindLabel","username"],["class","ng-select"],["placeholder","Select signer..."],["role","listbox"],["style","width:460px; background-color:whitesmoke; border-radius:2px; padding-left:10px"]],[[2,"ng-select-single",null],[2,"ng-select-typeahead",null],[2,"ng-select-multiple",null],[2,"ng-select-taggable",null],[2,"ng-select-searchable",null],[2,"ng-select-opened",null],[2,"ng-select-disabled",null],[2,"ng-select-filtered",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"keydown"]],function(n,l,e){var u=!0,i=n.component;"keydown"===l&&(u=!1!==t["ɵnov"](n,33).handleKeyDown(e)&&u);"ngModelChange"===l&&(u=!1!==(i.selectedUser=e)&&u);"change"===l&&(u=!1!==i.searchUser(e)&&u);return u},y.b,y.a)),t["ɵdid"](33,4964352,null,10,w.b,[w.a,[8,null],t.ChangeDetectorRef,w.j,t.NgZone,w.h,t.ElementRef],{items:[0,"items"],bindLabel:[1,"bindLabel"],placeholder:[2,"placeholder"],typeahead:[3,"typeahead"],multiple:[4,"multiple"]},{changeEvent:"change"}),t["ɵqud"](335544320,1,{optionTemplate:0}),t["ɵqud"](335544320,2,{optgroupTemplate:0}),t["ɵqud"](335544320,3,{labelTemplate:0}),t["ɵqud"](335544320,4,{multiLabelTemplate:0}),t["ɵqud"](335544320,5,{headerTemplate:0}),t["ɵqud"](335544320,6,{footerTemplate:0}),t["ɵqud"](335544320,7,{notFoundTemplate:0}),t["ɵqud"](335544320,8,{typeToSearchTemplate:0}),t["ɵqud"](335544320,9,{loadingTextTemplate:0}),t["ɵqud"](603979776,10,{ngOptions:1}),t["ɵprd"](1024,null,k.f,function(n){return[n]},[w.b]),t["ɵdid"](45,671744,null,0,k.k,[[8,null],[8,null],[8,null],[2,k.f]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,k.g,null,[k.k]),t["ɵdid"](47,16384,null,0,k.h,[k.g],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵand"](0,[[3,2]],null,1,null,A)),t["ɵdid"](50,16384,null,0,w.e,[t.TemplateRef],null,null),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵand"](0,[[1,2]],null,1,null,F)),t["ɵdid"](53,16384,null,0,w.d,[t.TemplateRef],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](57,0,null,null,5,"ion-col",[["class","col"]],null,null,null,null,null)),t["ɵdid"](58,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](60,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["or"])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](64,0,null,null,10,"ion-col",[["class","col"],["style","width:460px; background-color:transparent; "]],null,null,null,null,null)),t["ɵdid"](65,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n        \n        "])),(n()(),t["ɵeld"](68,0,null,null,5,"input",[["autofocus",""],["class","classic-input"],["placeholder","Email To..."],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0,i=n.component;"input"===l&&(u=!1!==t["ɵnov"](n,69)._handleInput(e.target.value)&&u);"blur"===l&&(u=!1!==t["ɵnov"](n,69).onTouched()&&u);"compositionstart"===l&&(u=!1!==t["ɵnov"](n,69)._compositionStart()&&u);"compositionend"===l&&(u=!1!==t["ɵnov"](n,69)._compositionEnd(e.target.value)&&u);"ngModelChange"===l&&(u=!1!==(i.email=e)&&u);return u},null,null)),t["ɵdid"](69,16384,null,0,k.c,[t.Renderer2,t.ElementRef,[2,k.a]],null,null),t["ɵprd"](1024,null,k.f,function(n){return[n]},[k.c]),t["ɵdid"](71,671744,null,0,k.k,[[8,null],[8,null],[8,null],[2,k.f]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,k.g,null,[k.k]),t["ɵdid"](73,16384,null,0,k.h,[k.g],null,null),(n()(),t["ɵted"](-1,null,["\n   \n      "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](76,0,null,null,6,"ion-col",[["class","col"]],null,null,null,null,null)),t["ɵdid"](77,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](79,0,null,null,2,"button",[["ion-button",""]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.sendEmail(e)&&t);return t},D.b,D.a)),t["ɵdid"](80,1097728,null,0,S.a,[[8,""],o.a,t.ElementRef,t.Renderer],null,null),(n()(),t["ɵted"](-1,0,["Send Email"])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  \n  "])),(n()(),t["ɵeld"](86,16777216,null,1,2,"block-pdf",[["locked","true"],["marginTop","50px"]],null,null,null,C.b,C.a)),t["ɵdid"](87,245760,null,0,x.a,[h.a,P.a,b.a,t.ChangeDetectorRef,t.ViewContainerRef,j.a],{locked:[0,"locked"],marginTop:[1,"marginTop"]},null),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n \n\n  \n\n  "])),(n()(),t["ɵted"](-1,1,["\n\n\n\n\n\n\n"]))],function(n,l){var e=l.component;n(l,13,0,"3");n(l,33,0,e.people3,"username","Select signer...",e.people3Typeahead,!1),n(l,45,0,e.selectedUser),n(l,71,0,e.email);n(l,87,0,"true","50px")},function(n,l){n(l,0,0,t["ɵnov"](l,1).statusbarPadding,t["ɵnov"](l,1)._hasRefresher),n(l,32,1,[!t["ɵnov"](l,33).multiple,t["ɵnov"](l,33).typeahead,t["ɵnov"](l,33).multiple,t["ɵnov"](l,33).addTag,t["ɵnov"](l,33).searchable,t["ɵnov"](l,33).isOpen,t["ɵnov"](l,33).isDisabled,t["ɵnov"](l,33).filtered,t["ɵnov"](l,47).ngClassUntouched,t["ɵnov"](l,47).ngClassTouched,t["ɵnov"](l,47).ngClassPristine,t["ɵnov"](l,47).ngClassDirty,t["ɵnov"](l,47).ngClassValid,t["ɵnov"](l,47).ngClassInvalid,t["ɵnov"](l,47).ngClassPending]),n(l,68,0,t["ɵnov"](l,73).ngClassUntouched,t["ɵnov"](l,73).ngClassTouched,t["ɵnov"](l,73).ngClassPristine,t["ɵnov"](l,73).ngClassDirty,t["ɵnov"](l,73).ngClassValid,t["ɵnov"](l,73).ngClassInvalid,t["ɵnov"](l,73).ngClassPending)})}var B=t["ɵccf"]("page-email",L.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-email",[],null,null,null,I,T)),t["ɵdid"](1,49152,null,0,L.a,[h.a,P.a,b.a,R.a,E.a,t.ChangeDetectorRef,j.a],null,null)],null,null)},{},{},[])},550:function(n,l,e){"use strict";e.d(l,"a",function(){return E});var t=e(0),u=e(83),i=e(29),o=e(4),r=e(6),a=e(11),s=e(12),c=e(33),d=e(8),h=e(23),p=e(68),f=e(69),g=e(67),m=e(105),v=e(71),b=e(20),y=e(139),w=e(72),k=e(19),D=e(45),S=e(419),C=e(97),x=e(84),P=e(39),j=e(224),L=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function R(n){return t["ɵvid"](0,[t["ɵqud"](402653184,1,{blockPdf:0}),(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵeld"](2,0,null,null,29,"ion-content",[["class","no-overflow-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,u.b,u.a)),t["ɵdid"](3,4374528,null,0,i.a,[o.a,r.a,a.a,t.ElementRef,t.Renderer,s.a,c.a,t.NgZone,[2,d.a],[2,h.a]],null,null),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](5,0,null,1,17,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](6,16384,null,0,p.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵeld"](8,0,null,null,13,"ion-row",[["class","row"]],null,null,null,null,null)),t["ɵdid"](9,16384,null,0,f.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](11,0,null,null,9,"ion-col",[["class","col"],["width-100",""]],null,null,null,null,null)),t["ɵdid"](12,16384,null,0,g.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](14,0,null,null,1,"block-steps",[["activeStep","4"]],null,null,null,m.b,m.a)),t["ɵdid"](15,49152,null,0,v.a,[h.a,b.a],{activeStep:[0,"activeStep"]},null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](17,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](19,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](24,16777216,null,1,2,"block-pdf",[["showButtons","true"],["showSignature","true"],["showToolBar","true"]],null,null,null,y.b,y.a)),t["ɵdid"](25,245760,[[1,4],["blockpdf",4]],0,w.a,[h.a,k.a,b.a,t.ChangeDetectorRef,t.ViewContainerRef,D.a],{showToolBar:[0,"showToolBar"],showSignature:[1,"showSignature"],showButtons:[2,"showButtons"]},null),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](28,0,null,1,2,"block-chat",[],null,null,null,S.b,S.a)),t["ɵdid"](29,245760,null,0,C.a,[b.a,x.a,P.a],null,null),(n()(),t["ɵted"](-1,null,["\n    \n    "])),(n()(),t["ɵted"](-1,1,["\n\n"])),(n()(),t["ɵted"](-1,null,["\n"]))],function(n,l){n(l,15,0,"4");n(l,25,0,"true","true","true"),n(l,29,0)},function(n,l){n(l,2,0,t["ɵnov"](l,3).statusbarPadding,t["ɵnov"](l,3)._hasRefresher)})}var E=t["ɵccf"]("page-sign",j.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-sign",[],null,null,null,R,L)),t["ɵdid"](1,49152,null,0,j.a,[h.a,k.a,b.a],null,null)],null,null)},{},{},[])},551:function(n,l,e){"use strict";e.d(l,"a",function(){return P});var t=e(0),u=e(83),i=e(29),o=e(4),r=e(6),a=e(11),s=e(12),c=e(33),d=e(8),h=e(23),p=e(105),f=e(71),g=e(20),m=e(68),v=e(69),b=e(67),y=e(21),w=e(156),k=e(45),D=e(149),S=e(91),C=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function x(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,90,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,u.b,u.a)),t["ɵdid"](1,4374528,null,0,i.a,[o.a,r.a,a.a,t.ElementRef,t.Renderer,s.a,c.a,t.NgZone,[2,d.a],[2,h.a]],null,null),(n()(),t["ɵted"](-1,1,["\n\n"])),(n()(),t["ɵeld"](3,0,null,1,2,"block-steps",[["activeStep","1"]],null,null,null,p.b,p.a)),t["ɵdid"](4,49152,null,0,f.a,[h.a,g.a],{activeStep:[0,"activeStep"]},null),(n()(),t["ɵted"](-1,null,["\n"])),(n()(),t["ɵted"](-1,1,["\n"])),(n()(),t["ɵeld"](7,0,null,1,0,"br",[],null,null,null,null,null)),(n()(),t["ɵeld"](8,0,null,1,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵeld"](10,0,null,1,77,"ion-grid",[["class","grid"]],null,null,null,null,null)),t["ɵdid"](11,16384,null,0,m.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n\n    "])),(n()(),t["ɵeld"](13,0,null,null,57,"ion-row",[["class","uploader-row row"]],null,null,null,null,null)),t["ɵdid"](14,16384,null,0,v.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](16,0,null,null,53,"ion-col",[["class","col"]],null,null,null,null,null)),t["ɵdid"](17,16384,null,0,b.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n\n        "])),(n()(),t["ɵeld"](19,0,null,null,49,"div",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](22,0,null,null,37,"form",[["class","uploader"],["id","file-upload-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var u=!0;"submit"===l&&(u=!1!==t["ɵnov"](n,24).onSubmit(e)&&u);"reset"===l&&(u=!1!==t["ɵnov"](n,24).onReset()&&u);return u},null,null)),t["ɵdid"](23,16384,null,0,y.n,[],null,null),t["ɵdid"](24,4210688,null,0,y.j,[[8,null],[8,null]],null,null),t["ɵprd"](2048,null,y.b,null,[y.j]),t["ɵdid"](26,16384,null,0,y.i,[y.b],null,null),(n()(),t["ɵted"](-1,null,["\n            "])),(n()(),t["ɵeld"](28,0,null,null,0,"input",[["accept",".pdf"],["id","file-upload"],["name","fileUpload"],["type","file"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n            "])),(n()(),t["ɵeld"](30,0,null,null,28,"label",[["for","file-upload"],["id","file-drag"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵeld"](32,0,null,null,0,"img",[["alt","Preview"],["class","hidden"],["id","file-image"],["src","#"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵeld"](34,0,null,null,12,"div",[["id","start"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](36,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-download"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](38,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Select a PDF"])),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](41,0,null,null,1,"div",[["class","hidden"],["id","notimage"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Please select an image"])),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](44,0,null,null,1,"span",[["class","btn btn-primary"],["id","file-upload-btn"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Select a file"])),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵeld"](48,0,null,null,9,"div",[["class","hidden"],["id","response"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](50,0,null,null,0,"div",[["id","messages"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n                "])),(n()(),t["ɵeld"](52,0,null,null,4,"progress",[["class","progress"],["id","file-progress"],["value","0"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n                  "])),(n()(),t["ɵeld"](54,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["0"])),(n()(),t["ɵted"](-1,null,["%\n                "])),(n()(),t["ɵted"](-1,null,["\n              "])),(n()(),t["ɵted"](-1,null,["\n            "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n\n          "])),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵted"](-1,null,["\n\n\n\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n\n\n    "])),(n()(),t["ɵted"](-1,null,["\n\n    "])),(n()(),t["ɵeld"](73,0,null,null,13,"ion-row",[["class","row"]],null,null,null,null,null)),t["ɵdid"](74,16384,null,0,v.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵeld"](76,0,null,null,9,"ion-col",[["class","col"]],null,null,null,null,null)),t["ɵdid"](77,16384,null,0,b.a,[],null,null),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵeld"](79,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](81,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n          "])),(n()(),t["ɵeld"](83,0,null,null,0,"canvas",[["id","the-canvas"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["\n        "])),(n()(),t["ɵted"](-1,null,["\n      "])),(n()(),t["ɵted"](-1,null,["\n    "])),(n()(),t["ɵted"](-1,null,["\n\n  "])),(n()(),t["ɵted"](-1,1,["\n\n\n  "])),(n()(),t["ɵted"](-1,1,["\n\n  "])),(n()(),t["ɵted"](-1,1,["\n"]))],function(n,l){n(l,4,0,"1")},function(n,l){n(l,0,0,t["ɵnov"](l,1).statusbarPadding,t["ɵnov"](l,1)._hasRefresher),n(l,22,0,t["ɵnov"](l,26).ngClassUntouched,t["ɵnov"](l,26).ngClassTouched,t["ɵnov"](l,26).ngClassPristine,t["ɵnov"](l,26).ngClassDirty,t["ɵnov"](l,26).ngClassValid,t["ɵnov"](l,26).ngClassInvalid,t["ɵnov"](l,26).ngClassPending)})}var P=t["ɵccf"]("page-home",w.a,function(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"page-home",[],null,null,null,x,C)),t["ɵdid"](1,49152,null,0,w.a,[h.a,k.a,D.a,g.a,S.a],null,null)],null,null)},{},{},[])},552:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=e(50),u=e(0),i=(e(1),e(16),e(47)),o=e(150),r=e(151),a=(e(888),e(85)),s=e(21),c=e(156),d=e(154),h=e(20),p=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})},f=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},g=function(){function n(n,l,e,t){this.viewCtrl=n,this.documentService=l,this.toastCtrl=e,this.nav=t,this.doc=this.viewCtrl.data.selectedDoc}return n.prototype.close=function(){this.viewCtrl.dismiss()},n.prototype.documentRemove=function(n){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return window.location.hash="",[4,this.documentService.removeDocument(this.doc)];case 1:return n.sent(),this.toastCtrl.create({message:"Document deleted!",duration:3e3,position:"middle"}).present(),this.viewCtrl.dismiss(),window.location.hash="",[2]}})})},n}(),m=e(39),v=(e(81),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),b=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},y=document.querySelectorAll.bind(document),w=function(){function n(n,l,e,t,u,i,o,r,a,s){this.platform=n,this.statusBar=l,this.splashScreen=e,this.loadingCtrl=t,this.alertCtrl=u,this.documentService=i,this.popoverCtrl=o,this.menuCtrl=r,this.blockStackService=a,this.toastCntrl=s,this.rootPage=c.a,this.isLoggedIn=!1,this.loginState="Login",this.fileName="blockusign/pdf1.pdf",this.avatar="http://www.gravatar.com/avatar/?d=identicon",this.initializeApp(),this.pages=[{title:"1). Upload PDF",component:c.a},{title:"2). Annotate PDF",component:d.a}],window.location.host.includes("localhost")?window.apiUrl="http://localhost:5000":window.apiUrl=""}return n.prototype.initializeApp=function(){var n=this;this.platform.ready().then(function(){n.statusBar.styleDefault(),n.splashScreen.hide(),n.showProfile(),n.setupDiscordMenu()})},n.prototype.login=function(){var n=window.location.origin;blockstack.redirectToSignIn(n,n+"/manifest.json",["store_write","publish_data","email"])},n.prototype.next=function(){this.menuCtrl.close(),this.nav.setRoot("HomePage"),this.nav.push("AnnotatePage",{guid:this.documentService.currentDoc.guid})},n.prototype.home=function(){this.menuCtrl.close(),this.nav.setRoot("HomePage"),this.clearActive()},n.prototype.logout=function(){blockstack.signUserOut(window.location.origin)},n.prototype.showProfile=function(){return v(this,void 0,void 0,function(){var n,l,e,t=this;return b(this,function(u){switch(u.label){case 0:if(!blockstack.isUserSignedIn())return[3,2];n=blockstack.loadUserData(),this.name=n.username,this.isLoggedIn=!0;try{this.avatar=n.profile.image[0].contentUrl}catch(n){console.log("no profile pic")}return this.loginState="[Logout]",this.documentService.getDocumentsIndex(!0).then(function(n){t.documentsList=t.documentService.documentsListFiltered}),[4,this.blockStackService.getProfileData()];case 1:return(l=u.sent())&&(e=JSON.parse(l)).email?this.name=e.email:this.profileModal(this.email),[3,3];case 2:blockstack.isSignInPending()?blockstack.handlePendingSignIn().then(function(n){window.location=window.location.origin,this.documentsGetList()}):"true"!==localStorage.getItem("signUp")?window.location.href="signup.html":(localStorage.setItem("signUp","true"),this.login()),u.label=3;case 3:return[2]}})})},n.prototype.setupDiscordMenu=function(){y(".focusable, .button").forEach(function(n){n.addEventListener("mousedown",function(n){return n.preventDefault()}),n.setAttribute("tabindex","0")}),y(".server").forEach(function(n){n.addEventListener("click",function(){var l=y(".server.active")[0];l.classList.remove("active"),l.removeAttribute("aria-selected"),n.classList.add("active"),n.setAttribute("aria-selected",!0)})}),y(".channel-text").forEach(function(n){n.addEventListener("click",function(){y(".channel-text.active")[0].classList.remove("active"),n.classList.add("active")})}),y(".channels-header")[0].addEventListener("click",function(n){n.preventDefault(),document.activeElement===n.target?n.target.blur():n.target.focus()})},n.prototype.documentSelected=function(n,l){this.documentService.currentDoc=l,this.next()},n.prototype.documentsGetList=function(){var n=this;this.documentService.getDocumentsIndex(!0).then(function(l){n.documentsList=n.documentService.documentsListFiltered})},n.prototype.presentPopover=function(n,l){this.popoverCtrl.create(g,{selectedDoc:l}).present({ev:n})},n.prototype.clearActive=function(){y(".channel-text").forEach(function(n){try{y(".channel-text.active")[0].classList.remove("active")}catch(n){}})},n.prototype.profileModal=function(n){var l=this;this.alertCtrl.create({title:"Please enter your email",enableBackdropDismiss:!1,inputs:[{name:"email",placeholder:"email",value:n}],buttons:[{text:"Ok",handler:function(n){if(l.blockStackService.setProfileData(n.email),-1==n.email.indexOf("@"))return l.showErrorToast("Invalid Email"),!1}}]}).present()},n.prototype.showErrorToast=function(n){var l=this.toastCntrl.create({message:n,duration:3e3,position:"top"});l.onDidDismiss(function(){console.log("Dismissed toast")}),l.present()},n.prototype.filterDocumentList=function(n,l){this.documentService.filterDocuments(n),this.documentsList=this.documentService.documentsListFiltered;var e=y(".server.active")[0];e.classList.remove("active"),e.removeAttribute("aria-selected"),l.currentTarget.classList.add("active"),l.currentTarget.setAttribute("aria-selected",!0)},n}(),k=e(153),D=e(225),S=e(219),C=e(223),x=e(221),P=e(220),j=e(62),L=(e(48),e(70),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),R=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},E=function(){function n(n){this.http=n,this.baseUrl="https://min-api.cryptocompare.com/data/histohour?fsym=",this.coin="IOT",this.symbol="IOT",this.params="&tsym=USD&limit=60&aggregate=3&e=CCCAGG",this.url=""}return n.prototype.getCoin=function(n){return L(this,void 0,void 0,function(){return R(this,function(l){switch(l.label){case 0:return this.coin=n,this.url=this.baseUrl+this.coin+this.params,[4,this.http.get(this.url).toPromise()];case 1:return[2,l.sent()]}})})},n.prototype.getAllCoins=function(){return L(this,void 0,void 0,function(){return R(this,function(n){switch(n.label){case 0:return[4,this.http.get("https://min-api.cryptocompare.com/data/all/coinlist").toPromise()];case 1:return[2,n.sent()]}})})},n}(),T=e(149),A=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})},F=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},I=function(){function n(n,l){this.http=n,this.jsonp=l,this.baseUrl="https://www.cryptocompare.com/api/data",this.apiUrl=window.apiUrl,this.currency="BTC",this.aggregate="1"}return n.prototype.getTopCoins=function(){return A(this,void 0,void 0,function(){var n,l,e,t;return F(this,function(u){switch(u.label){case 0:return[4,this.http.get("https://api.coinmarketcap.com/v1/ticker/?limit=377").toPromise()];case 1:return n=u.sent(),[4,this.http.get("https://min-api.cryptocompare.com/data/all/coinlist").toPromise()];case 2:return l=u.sent(),e=l.json().Data,t={},n.json().forEach(function(n){var l=e[n.symbol];l?(l.rank=n.rank,t[n.symbol]=l):console.error("Cannot find "+n.symbol)}),[2,t]}})})},n.prototype.getSocialStats=function(n,l){return A(this,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return n||(n=306304),l||(l=337),this.url=this.baseUrl+("/socialstatshistohour/?aggregate=1&id="+n+"&limit="+l),[4,this.http.get(this.url).toPromise()];case 1:return[2,e.sent()]}})})},n.prototype.getCoins=function(n,l,e,t,u){return A(this,void 0,void 0,function(){return F(this,function(i){switch(i.label){case 0:return this.currency=t,this.aggregate=u,n||(n=10),l||(l=24),e||(e=24),[4,this.http.get(this.apiUrl+"/api/coins?coinLimit="+n+"&histPriceLimit="+l+"&socialLimit="+e+"&currency="+this.currency+"&aggregate="+this.aggregate).toPromise()];case 1:return[2,i.sent()]}})})},n}(),B=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})},U=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},_=function(){function n(n,l){this.http=n,this.jsonp=l,this.baseUrl=window.apiUrl+"/api/slack"}return n.prototype.sendAlert=function(n){return B(this,void 0,void 0,function(){return U(this,function(l){switch(l.label){case 0:return[4,this.http.get(this.baseUrl+"/"+n).toPromise()];case 1:return[2,l.sent()]}})})},n}(),M=e(141),N=function(){return function(){}}(),z=e(88),O=e(538),q=e(539),V=e(540),H=e(541),K=e(542),$=e(543),G=e(544),J=e(545),Z=e(546),X=e(551),W=e(547),Q=e(550),Y=e(549),nn=e(548),ln=e(24),en=e(60),tn=e(35),un=e(4),on=e(65),rn=e(58),an=e(6),sn=e(935),cn=e(126),dn=e(43),hn=e(33),pn=e(13),fn=e(11),gn=e(12),mn=e(936),vn=e(96),bn=e(8),yn=e(23),wn=e(55),kn=e(31),Dn=e(183),Sn=e(79),Cn=e(173),xn=e(80),Pn=e(199),jn=e(107),Ln=e(418),Rn=e(66),En=e(45),Tn=e(91),An=e(140),Fn=e(106),In=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Bn(n){return u["ɵvid"](0,[(n()(),u["ɵeld"](0,0,null,null,8,"div",[["aria-label","My Server"],["class","server focusable "],["role","button"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.filterDocumentList(n.parent.context.$implicit.signer[0],e)&&t);return t},null,null)),(n()(),u["ɵted"](-1,null,["\n                      "])),(n()(),u["ɵeld"](2,0,null,null,2,"div",[["class","server-icon"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                       "])),(n()(),u["ɵted"](4,null,["\n                       ","\n                        \n                      "])),(n()(),u["ɵted"](-1,null,["\n                      "])),(n()(),u["ɵeld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u["ɵted"](7,null,["",""])),(n()(),u["ɵted"](-1,null,["\n                    "]))],null,function(n,l){n(l,4,0,l.parent.context.$implicit.signer[0].charAt(0).toUpperCase()),n(l,7,0,l.parent.context.$implicit.signer[0])})}function Un(n){return u["ɵvid"](0,[(n()(),u["ɵeld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵand"](16777216,null,null,1,null,Bn)),u["ɵdid"](3,16384,null,0,ln.i,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),u["ɵted"](-1,null,["\n              "]))],function(n,l){n(l,3,0,l.context.$implicit.signer.length>0)},null)}function _n(n){return u["ɵvid"](0,[(n()(),u["ɵeld"](0,0,null,null,18,"div",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                    "])),(n()(),u["ɵeld"](2,0,null,null,15,"li",[],null,null,null,null,null)),u["ɵdid"](3,278528,null,0,ln.g,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{ngClass:[0,"ngClass"]},null),(n()(),u["ɵted"](-1,null,["\n                        "])),(n()(),u["ɵted"](-1,null,["\n                        "])),(n()(),u["ɵeld"](6,0,null,null,1,"span",[["style","width:90%"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.documentSelected(e,n.context.$implicit)&&t);return t},null,null)),(n()(),u["ɵted"](7,null,["\n                          ","\n                        "])),(n()(),u["ɵted"](-1,null,["\n                        "])),(n()(),u["ɵted"](-1,null,["\n                        "])),(n()(),u["ɵted"](-1,null,["\n                        "])),(n()(),u["ɵeld"](11,0,null,null,5,"button",[["icon-only",""],["ion-button",""],["style","padding-left: 10px; background: transparent"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.presentPopover(e,n.context.$implicit)&&t);return t},en.b,en.a)),u["ɵdid"](12,1097728,null,0,tn.a,[[8,""],un.a,u.ElementRef,u.Renderer],null,null),(n()(),u["ɵted"](-1,0,["\n                                "])),(n()(),u["ɵeld"](14,0,null,0,1,"ion-icon",[["name","more"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](15,147456,null,0,on.a,[un.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(n()(),u["ɵted"](-1,0,["\n                        "])),(n()(),u["ɵted"](-1,null,["\n                      "])),(n()(),u["ɵted"](-1,null,["\n                "]))],function(n,l){n(l,3,0,l.context.$implicit==l.component.documentService.currentDoc?"channel focusable channel-text active ":"channel focusable channel-text ");n(l,15,0,"more")},function(n,l){n(l,7,0,l.context.$implicit.fileName),n(l,14,0,u["ɵnov"](l,15)._hidden)})}function Mn(n){return u["ɵvid"](0,[u["ɵqud"](402653184,1,{nav:0}),(n()(),u["ɵted"](-1,null,["\n\n"])),(n()(),u["ɵted"](-1,null,["\n"])),(n()(),u["ɵeld"](3,0,null,null,156,"ion-split-pane",[],null,null,null,null,null)),u["ɵdid"](4,4341760,null,1,rn.b,[u.NgZone,an.a,un.a,u.ElementRef,u.Renderer],null,null),u["ɵqud"](603979776,2,{_setchildren:1}),u["ɵprd"](2048,[[2,4]],rn.a,null,[rn.b]),(n()(),u["ɵted"](-1,null,["\n  "])),(n()(),u["ɵeld"](8,0,null,null,128,"ion-menu",[["role","navigation"]],null,null,null,sn.b,sn.a)),u["ɵdid"](9,245760,null,2,cn.a,[dn.a,u.ElementRef,un.a,an.a,u.Renderer,hn.a,pn.l,fn.a,gn.a],{content:[0,"content"]},null),u["ɵqud"](335544320,3,{menuContent:0}),u["ɵqud"](335544320,4,{menuNav:0}),u["ɵprd"](2048,[[2,4]],rn.a,null,[cn.a]),(n()(),u["ɵted"](-1,0,["\n      "])),(n()(),u["ɵeld"](14,0,null,0,121,"div",[["class","discord"],["style","height: 100%; width: 300px; color:whitesmoke"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n        "])),(n()(),u["ɵted"](-1,null,["\n        "])),(n()(),u["ɵeld"](17,0,null,null,117,"main",[["class","container"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n          "])),(n()(),u["ɵeld"](19,0,null,null,28,"aside",[["class","servers"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n            "])),(n()(),u["ɵeld"](21,0,null,null,12,"div",[["class","servers-collection"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](23,0,null,null,9,"div",[["aria-label","Friends unread"],["class","server focusable server-friends"],["role","button"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵeld"](25,0,null,null,6,"div",[["class","server-icon"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵeld"](27,0,null,null,3,":svg:svg",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                    "])),(n()(),u["ɵeld"](29,0,null,null,0,":svg:use",[[":xlink:href","#icon-friends"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n            "])),(n()(),u["ɵted"](-1,null,["\n\n          \n            "])),(n()(),u["ɵeld"](35,0,null,null,11,"div",[["class","servers-collection"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](37,0,null,null,5,"div",[["aria-label","My Server"],["class","server focusable active"],["role","button"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.filterDocumentList("all",e)&&t);return t},null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵeld"](39,0,null,null,2,"div",[["class","server-icon"],["style","font-weight:bold"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                    "])),(n()(),u["ɵted"](-1,null,["\n                    ALL\n                  "])),(n()(),u["ɵted"](-1,null,["\n                 \n              "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵand"](16777216,null,null,1,null,Un)),u["ɵdid"](45,802816,null,0,ln.h,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),u["ɵted"](-1,null,["\n              \n            \n            "])),(n()(),u["ɵted"](-1,null,["\n          "])),(n()(),u["ɵted"](-1,null,["\n\n\n\n\n          "])),(n()(),u["ɵeld"](49,0,null,null,84,"aside",[["class","channels"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n            "])),(n()(),u["ɵeld"](51,0,null,null,10,"header",[["class","channels-header focusable"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.home()&&t);return t},null,null)),(n()(),u["ɵted"](-1,null,["\n\n              "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](54,0,null,null,0,"img",[["class","blockusign-logo"],["height","45px"],["src","./assets/imgs/blockusignLogoSvg.svg"],["width","45px"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](56,0,null,null,0,"img",[["src","./assets/imgs/blockusignTextLoRes.png"],["style","padding-left: 12px; padding-top: 10px"],["width","120px"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n             \n              \n            \n\n\n\n              "])),(n()(),u["ɵeld"](58,0,null,null,0,"h3",[["class","channels-header-name"],["role","header"],["style","padding-right: 10px;"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,[" \n              "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n\n             \n\n\n            "])),(n()(),u["ɵted"](-1,null,["\n\n            "])),(n()(),u["ɵeld"](63,0,null,null,52,"section",[["class","channels-list"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n\n              "])),(n()(),u["ɵeld"](65,0,null,null,8,"section",[],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.home()&&t);return t},null,null)),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵeld"](67,0,null,null,5,"button",[["icon-end",""],["ion-button",""],["style","float:right;width:100%;background-color:green; color:white; border-radius: 5px; margin-bottom: 20px; margin-top: 20px"]],null,null,null,en.b,en.a)),u["ɵdid"](68,1097728,null,0,tn.a,[[8,""],un.a,u.ElementRef,u.Renderer],null,null),(n()(),u["ɵted"](-1,0,["New Doc\n                  "])),(n()(),u["ɵeld"](70,0,null,0,1,"ion-icon",[["name","md-add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](71,147456,null,0,on.a,[un.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(n()(),u["ɵted"](-1,0,["\n                "])),(n()(),u["ɵted"](-1,null,["\n                \n              "])),(n()(),u["ɵted"](-1,null,["\n\n              "])),(n()(),u["ɵeld"](75,0,null,null,4,"header",[["class","channels-list-header"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.home()&&t);return t},null,null)),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵeld"](77,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["Documents"])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n\n             \n              \n              "])),(n()(),u["ɵeld"](81,0,null,null,5,"ul",[["class","channels-list-text"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵand"](16777216,null,null,1,null,_n)),u["ɵdid"](84,802816,null,0,ln.h,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),u["ɵted"](-1,null,["\n                \n\n                "])),(n()(),u["ɵted"](-1,null,["\n\n              "])),(n()(),u["ɵted"](-1,null,["\n\n\n\n              "])),(n()(),u["ɵted"](-1,null,["\n\n              "])),(n()(),u["ɵeld"](89,0,null,null,4,"header",[["class","channels-list-header focusable"],["style","margin-top:150px"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵeld"](91,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["Features in progress"])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](95,0,null,null,19,"ul",[["class","channels-list-text"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵeld"](97,0,null,null,4,"li",[["class","channel focusable channel-text "]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                      "])),(n()(),u["ɵeld"](99,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["Templates"])),(n()(),u["ɵted"](-1,null,["\n                    "])),(n()(),u["ɵted"](-1,null,["\n                    "])),(n()(),u["ɵeld"](103,0,null,null,4,"li",[["class","channel focusable channel-text "]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                        "])),(n()(),u["ɵeld"](105,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["Analytics"])),(n()(),u["ɵted"](-1,null,["\n                      "])),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵeld"](109,0,null,null,4,"li",[["class","channel focusable channel-text "]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵeld"](111,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["Smart Contracts"])),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n            "])),(n()(),u["ɵted"](-1,null,["\n\n\n\n            "])),(n()(),u["ɵeld"](117,0,null,null,15,"footer",[["class","channels-footer"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](120,0,null,null,0,"img",[["alt","Avatar"],["class","avatar"]],[[8,"src",4]],null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵeld"](122,0,null,null,8,"div",[["class","channels-footer-details"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵeld"](124,0,null,null,4,"span",[["class","username"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n                  "])),(n()(),u["ɵeld"](126,0,null,null,1,"a",[["style","float:right"]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.logout()&&t);return t},null,null)),(n()(),u["ɵted"](127,null,[""," "," "])),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵted"](-1,null,["\n                "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n              "])),(n()(),u["ɵted"](-1,null,["\n            "])),(n()(),u["ɵted"](-1,null,["\n          "])),(n()(),u["ɵted"](-1,null,["\n\n\n        "])),(n()(),u["ɵted"](-1,null,["\n      "])),(n()(),u["ɵted"](-1,0,["\n   \n  "])),(n()(),u["ɵted"](-1,null,["\n \n  "])),(n()(),u["ɵeld"](138,0,null,null,4,"ion-nav",[["class","centerMe"],["main",""],["swipeBackEnabled","false"]],null,null,null,mn.b,mn.a)),u["ɵdid"](139,4374528,[[1,4],["content",4]],0,vn.a,[[2,bn.a],[2,yn.a],gn.a,un.a,an.a,u.ElementRef,u.NgZone,u.Renderer,u.ComponentFactoryResolver,pn.l,wn.a,[2,kn.a],fn.a,u.ErrorHandler],{swipeBackEnabled:[0,"swipeBackEnabled"],root:[1,"root"]},null),u["ɵprd"](2048,[[2,4]],rn.a,null,[vn.a]),(n()(),u["ɵted"](-1,null,["\n    "])),(n()(),u["ɵted"](-1,null,["\n  "])),(n()(),u["ɵted"](-1,null,["\n  "])),(n()(),u["ɵeld"](144,0,null,null,14,"ion-fab",[["left",""],["menuToggle",""],["top",""]],[[8,"hidden",0]],[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==u["ɵnov"](n,148).toggle()&&t);return t},Dn.b,Dn.a)),u["ɵdid"](145,1228800,null,2,Sn.a,[an.a],null,null),u["ɵqud"](335544320,5,{_mainButton:0}),u["ɵqud"](603979776,6,{_fabLists:1}),u["ɵdid"](148,1064960,null,0,Cn.a,[dn.a,[2,bn.a],[2,tn.a],[2,xn.a]],{menuToggle:[0,"menuToggle"]},null),u["ɵdid"](149,16384,null,1,Pn.a,[un.a,u.ElementRef,u.Renderer,[2,jn.a],[2,xn.a]],null,null),u["ɵqud"](603979776,7,{_buttons:1}),(n()(),u["ɵted"](-1,0,["\n    "])),(n()(),u["ɵeld"](152,0,null,0,5,"button",[["color","primary"],["ion-fab",""]],null,null,null,Ln.b,Ln.a)),u["ɵdid"](153,49152,[[5,4]],0,Rn.a,[un.a,u.ElementRef,u.Renderer],{color:[0,"color"]},null),(n()(),u["ɵted"](-1,0,["\n      "])),(n()(),u["ɵeld"](155,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](156,147456,null,0,on.a,[un.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(n()(),u["ɵted"](-1,0,["\n    "])),(n()(),u["ɵted"](-1,0,["\n  "])),(n()(),u["ɵted"](-1,null,["\n"])),(n()(),u["ɵted"](-1,null,["\n\n"])),(n()(),u["ɵted"](-1,null,["\n"])),(n()(),u["ɵeld"](162,0,null,null,31,"div",[["style","visibility: hidden"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n  "])),(n()(),u["ɵeld"](164,0,null,null,7,":svg:svg",[["id","icon-friends"],["viewBox","-289 382 32 27.1"]],null,null,null,null,null)),(n()(),u["ɵeld"](165,0,null,null,1,":svg:style",[["id","style3"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,[".st0{fill:#FFFFFF;} .st1{opacity:0.6;}"])),(n()(),u["ɵeld"](167,0,null,null,4,":svg:g",[["fill","#fff"],["id","g4145"]],null,null,null,null,null)),(n()(),u["ɵeld"](168,0,null,null,0,":svg:path",[["class","st0"],["d","M-273 409.1c-4.1 0-6.8-.6-7.9-1.7-.5-.6-.6-1.1-.6-1.3 0-.7.1-2.9.6-3.8.1-.3.5-1 4.5-2.4-1.6-1.4-2.6-4-2.6-7.1 0-4.2 2.3-7 5.9-7.1h.1c3.6.1 5.9 2.8 5.9 7.1 0 3.1-1 5.7-2.6 7.1 4 1.4 4.4 2.1 4.5 2.4.4.9.5 3.1.6 3.8 0 .2 0 .7-.6 1.3-1.1 1.1-3.7 1.7-7.8 1.7zm0-2c5.1 0 6.2-.9 6.4-1.1-.1-1.1-.2-2.3-.3-2.7-.6-.4-2.9-1.3-4.8-1.9l-.7-.2-.1-2 .7-.3c1.7-.6 2.8-3.1 2.8-6.1 0-3.1-1.5-5-3.9-5.1-2.5 0-4 2-4 5.1 0 3 1.1 5.5 2.8 6.1l.7.3-.1 2-.7.2c-1.9.6-4.2 1.5-4.8 1.9-.1.4-.3 1.6-.3 2.7.1.2 1.3 1.1 6.3 1.1z"],["id","path5"]],null,null,null,null,null)),(n()(),u["ɵeld"](169,0,null,null,2,":svg:g",[["class","st1"],["id","g7"],["opacity",".6"]],null,null,null,null,null)),(n()(),u["ɵeld"](170,0,null,null,0,":svg:path",[["class","st0"],["d","M-257 402.4c0-.7-.1-2.9-.6-3.8-.1-.3-.5-1-4.5-2.4 1.6-1.4 2.6-4 2.6-7.1 0-4.2-2.3-7-5.9-7.1h-.1c-1.9 0-3.5.8-4.5 2.2.6.3 1.2.6 1.8 1 .7-.8 1.6-1.3 2.8-1.3 2.4 0 3.9 2 3.9 5.1 0 3-1.1 5.5-2.8 6.1l-.7.3.1 2 .7.2c1.9.6 4.3 1.5 4.8 1.9.1.4.3 1.6.3 2.7-.2.2-1 .8-3.8 1 .1.6.2 1.2.2 2 2.5-.2 4.2-.8 5-1.6.7-.5.7-1 .7-1.2z"],["id","path9"]],null,null,null,null,null)),(n()(),u["ɵeld"](171,0,null,null,0,":svg:path",[["class","st0"],["d","M-287 402.3c.1-1.1.2-2.3.3-2.7.6-.4 2.9-1.3 4.8-1.9l.7-.2.1-2-.7-.3c-1.6-.6-2.8-3.1-2.8-6.1 0-3.1 1.5-5 4-5.1 1.2 0 2.1.5 2.8 1.3.5-.4 1.1-.8 1.8-1-1-1.4-2.6-2.2-4.5-2.2h-.1c-3.6 0-5.9 2.8-5.9 7.1 0 3.1 1 5.7 2.6 7.1-4 1.4-4.4 2.1-4.5 2.4-.4.9-.5 3.1-.6 3.8 0 .2 0 .7.6 1.3.8.9 2.5 1.4 5.1 1.6 0-.7.1-1.4.2-2-2.9-.3-3.7-.9-3.9-1.1z"],["id","path11"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n\n  "])),(n()(),u["ɵeld"](173,0,null,null,1,":svg:svg",[["id","icon-mute"],["viewBox","0 0 16 16"]],null,null,null,null,null)),(n()(),u["ɵeld"](174,0,null,null,0,":svg:path",[["d","M12.5,8v1c0,2.2-1.8,4-4,4h-1c-2.2,0-4-1.8-4-4V8h-1v1 c0,2.8,2.2,5,5,5v1H7c-0.3,0-0.5,0.2-0.5,0.5C6.5,15.8,6.7,16,7,16h2c0.3,0,0.5-0.2,0.5-0.5C9.5,15.2,9.3,15,9,15H8.5v-1 c2.8,0,5-2.2,5-5V8H12.5z M8,12c1.9,0,3.5-1.6,3.5-3.5v-5C11.5,1.6,9.9,0,8,0C6.1,0,4.5,1.6,4.5,3.5v5C4.5,10.4,6.1,12,8,12z M5.5,3.5C5.5,2.1,6.6,1,8,1c1.4,0,2.5,1.1,2.5,2.5v5C10.5,9.9,9.4,11,8,11c-1.4,0-2.5-1.1-2.5-2.5V3.5z"],["fill","#5D6063"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n  \n  "])),(n()(),u["ɵeld"](176,0,null,null,1,":svg:svg",[["id","icon-deafen"],["viewBox","0 0 16 16"]],null,null,null,null,null)),(n()(),u["ɵeld"](177,0,null,null,0,":svg:path",[["d","M15.9,9C16,8.7,16,8.3,16,8c0-4.4-3.6-8-8-8C3.6,0,0,3.6,0,8 c0,0.3,0,0.7,0.1,1h0C0,9.2,0,9.3,0,9.5v4C0,14.3,0.7,15,1.5,15h2C4.3,15,5,14.3,5,13.5v-4C5,8.7,4.3,8,3.5,8h-2 C1.3,8,1.2,8,1,8.1C1,8.1,1,8,1,8c0-3.9,3.1-7,7-7c3.9,0,7,3.1,7,7c0,0,0,0.1,0,0.1C14.8,8,14.7,8,14.5,8h-2C11.7,8,11,8.7,11,9.5 v4c0,0.8,0.7,1.5,1.5,1.5h2c0.8,0,1.5-0.7,1.5-1.5v-4C16,9.3,16,9.2,15.9,9L15.9,9z M1.5,9h2C3.8,9,4,9.2,4,9.5v4 C4,13.8,3.8,14,3.5,14h-2C1.2,14,1,13.8,1,13.5v-4C1,9.2,1.2,9,1.5,9z M15,13.5c0,0.3-0.2,0.5-0.5,0.5h-2c-0.3,0-0.5-0.2-0.5-0.5 v-4C12,9.2,12.2,9,12.5,9h2C14.8,9,15,9.2,15,9.5V13.5z"],["fill","#5D6063"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n  \n  "])),(n()(),u["ɵeld"](179,0,null,null,1,":svg:svg",[["id","icon-settings"],["viewBox","0 0 16 16"]],null,null,null,null,null)),(n()(),u["ɵeld"](180,0,null,null,0,":svg:path",[["d","M8,5C6.3,5,5,6.3,5,8c0,1.7,1.3,3,3,3c1.7,0,3-1.3,3-3 C11,6.3,9.7,5,8,5z M8,10c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C10,9.1,9.1,10,8,10z M16,8c0-1-0.8-1.9-1.8-2 c-0.1-0.3-0.3-0.7-0.4-1c0.7-0.8,0.6-1.9-0.1-2.7c-0.7-0.7-1.9-0.8-2.7-0.1c-0.3-0.2-0.6-0.3-1-0.4C9.9,0.8,9,0,8,0 C7,0,6.1,0.8,6,1.8C5.7,1.9,5.3,2.1,5,2.2C4.2,1.6,3.1,1.6,2.3,2.3C1.6,3.1,1.6,4.2,2.2,5C2.1,5.3,1.9,5.7,1.8,6C0.8,6.1,0,7,0,8 c0,1,0.8,1.9,1.8,2c0.1,0.3,0.3,0.7,0.4,1c-0.7,0.8-0.6,1.9,0.1,2.7c0.7,0.7,1.9,0.8,2.7,0.1c0.3,0.2,0.6,0.3,1,0.4 C6.1,15.2,7,16,8,16c1,0,1.9-0.8,2-1.8c0.3-0.1,0.7-0.3,1-0.4c0.8,0.7,1.9,0.6,2.7-0.1c0.7-0.7,0.8-1.9,0.1-2.7 c0.2-0.3,0.3-0.6,0.4-1C15.2,9.9,16,9,16,8z M13.4,9c-0.1,0.8-0.5,1.5-0.9,2.1l0.4,0.4c0.4,0.4,0.4,1,0,1.4c-0.4,0.4-1,0.4-1.4,0 l-0.4-0.4C10.5,13,9.8,13.3,9,13.4V14c0,0.6-0.4,1-1,1c-0.6,0-1-0.4-1-1v-0.6c-0.8-0.1-1.5-0.5-2.1-0.9l-0.4,0.4 c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4l0.4-0.4C3,10.5,2.7,9.8,2.6,9H2C1.4,9,1,8.6,1,8c0-0.6,0.4-1,1-1h0.6 C2.7,6.2,3,5.5,3.5,4.9L3.1,4.5c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l0.4,0.4C5.5,3,6.2,2.7,7,2.6V2c0-0.6,0.4-1,1-1 c0.6,0,1,0.4,1,1v0.6c0.8,0.1,1.5,0.5,2.1,0.9l0.4-0.4c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4l-0.4,0.4C13,5.5,13.3,6.2,13.4,7 H14c0.6,0,1,0.4,1,1c0,0.6-0.4,1-1,1H13.4z"],["fill","#5D6063"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n  \n  "])),(n()(),u["ɵeld"](182,0,null,null,4,":svg:svg",[["id","icon-dropdown"],["viewBox","0 0 18 18"]],null,null,null,null,null)),(n()(),u["ɵeld"](183,0,null,null,1,":svg:style",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,[".dd{stroke:#ABADAF;stroke-width:2px;stroke-dashoffset:1;stroke-dasharray:inherit}"])),(n()(),u["ɵeld"](185,0,null,null,0,":svg:path",[["class","dd"],["d","M4.5 4.5l9 9"],["stroke","#FFF"],["stroke-linecap","round"]],null,null,null,null,null)),(n()(),u["ɵeld"](186,0,null,null,0,":svg:path",[["class","dd"],["d","M13.5 4.5l-9 9"],["stroke","#FFF"],["stroke-linecap","round"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n  \n  "])),(n()(),u["ɵeld"](188,0,null,null,1,":svg:svg",[["id","icon-invite"],["viewBox","0 0 16 16"]],null,null,null,null,null)),(n()(),u["ɵeld"](189,0,null,null,0,":svg:path",[["d","M6.3,3.4L8,1.7v9.8C8,11.8,8.2,12,8.5,12C8.8,12,9,11.8,9,11.5V1.7l1.7,1.7c0.2,0.2,0.5,0.2,0.7,0c0.2-0.2,0.2-0.5,0-0.7L8.9,0.2c0,0,0,0,0-0.1C8.8,0,8.6,0,8.5,0c0,0,0,0,0,0c0,0,0,0,0,0C8.4,0,8.2,0,8.1,0.1c0,0,0,0,0,0.1L5.6,2.7c-0.2,0.2-0.2,0.5,0,0.7C5.8,3.5,6.1,3.5,6.3,3.4z M14,4h-1.5v1h1C13.8,5,14,5.2,14,5.5v9c0,0.3-0.2,0.5-0.5,0.5h-10C3.2,15,3,14.8,3,14.5v-9C3,5.2,3.2,5,3.5,5h1V4H3C2.4,4,2,4.4,2,5v10c0,0.6,0.4,1,1,1h11c0.6,0,1-0.4,1-1V5C15,4.4,14.6,4,14,4z"],["fill","#fff"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n  \n  "])),(n()(),u["ɵeld"](191,0,null,null,1,":svg:svg",[["id","icon-channel-settings"],["viewBox","0 0 16 16"]],null,null,null,null,null)),(n()(),u["ɵeld"](192,0,null,null,0,":svg:path",[["d","M8,5C6.3,5,5,6.3,5,8c0,1.7,1.3,3,3,3c1.7,0,3-1.3,3-3 C11,6.3,9.7,5,8,5z M8,10c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C10,9.1,9.1,10,8,10z M16,8c0-1-0.8-1.9-1.8-2 c-0.1-0.3-0.3-0.7-0.4-1c0.7-0.8,0.6-1.9-0.1-2.7c-0.7-0.7-1.9-0.8-2.7-0.1c-0.3-0.2-0.6-0.3-1-0.4C9.9,0.8,9,0,8,0 C7,0,6.1,0.8,6,1.8C5.7,1.9,5.3,2.1,5,2.2C4.2,1.6,3.1,1.6,2.3,2.3C1.6,3.1,1.6,4.2,2.2,5C2.1,5.3,1.9,5.7,1.8,6C0.8,6.1,0,7,0,8 c0,1,0.8,1.9,1.8,2c0.1,0.3,0.3,0.7,0.4,1c-0.7,0.8-0.6,1.9,0.1,2.7c0.7,0.7,1.9,0.8,2.7,0.1c0.3,0.2,0.6,0.3,1,0.4 C6.1,15.2,7,16,8,16c1,0,1.9-0.8,2-1.8c0.3-0.1,0.7-0.3,1-0.4c0.8,0.7,1.9,0.6,2.7-0.1c0.7-0.7,0.8-1.9,0.1-2.7 c0.2-0.3,0.3-0.6,0.4-1C15.2,9.9,16,9,16,8z M13.4,9c-0.1,0.8-0.5,1.5-0.9,2.1l0.4,0.4c0.4,0.4,0.4,1,0,1.4c-0.4,0.4-1,0.4-1.4,0 l-0.4-0.4C10.5,13,9.8,13.3,9,13.4V14c0,0.6-0.4,1-1,1c-0.6,0-1-0.4-1-1v-0.6c-0.8-0.1-1.5-0.5-2.1-0.9l-0.4,0.4 c-0.4,0.4-1,0.4-1.4,0c-0.4-0.4-0.4-1,0-1.4l0.4-0.4C3,10.5,2.7,9.8,2.6,9H2C1.4,9,1,8.6,1,8c0-0.6,0.4-1,1-1h0.6 C2.7,6.2,3,5.5,3.5,4.9L3.1,4.5c-0.4-0.4-0.4-1,0-1.4c0.4-0.4,1-0.4,1.4,0l0.4,0.4C5.5,3,6.2,2.7,7,2.6V2c0-0.6,0.4-1,1-1 c0.6,0,1,0.4,1,1v0.6c0.8,0.1,1.5,0.5,2.1,0.9l0.4-0.4c0.4-0.4,1-0.4,1.4,0c0.4,0.4,0.4,1,0,1.4l-0.4,0.4C13,5.5,13.3,6.2,13.4,7 H14c0.6,0,1,0.4,1,1c0,0.6-0.4,1-1,1H13.4z"],["fill","#fff"]],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n"])),(n()(),u["ɵted"](-1,null,["\n"]))],function(n,l){var e=l.component;n(l,9,0,u["ɵnov"](l,139)),n(l,45,0,e.documentService.documentsList);n(l,71,0,"md-add"),n(l,84,0,e.documentsList);n(l,139,0,"false",e.rootPage);n(l,148,0,"");n(l,153,0,"primary");n(l,156,0,"menu")},function(n,l){var e=l.component;n(l,70,0,u["ɵnov"](l,71)._hidden),n(l,120,0,e.avatar),n(l,127,0,e.name,e.loginState),n(l,144,0,u["ɵnov"](l,148).isHidden),n(l,155,0,u["ɵnov"](l,156)._hidden)})}var Nn=u["ɵccf"]("ng-component",w,function(n){return u["ɵvid"](0,[(n()(),u["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,Mn,In)),u["ɵdid"](1,49152,null,0,w,[an.a,o.a,r.a,En.a,Tn.a,h.a,An.a,dn.a,m.a,Fn.a],null,null)],null,null)},{},{},[]),zn=e(95),On=e(417),qn=e(36),Vn=e(32),Hn=e(78),Kn=e(123),$n=u["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Gn(n){return u["ɵvid"](0,[(n()(),u["ɵted"](-1,null,["\n     "])),(n()(),u["ɵeld"](1,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u["ɵted"](-1,null,["\n      "])),(n()(),u["ɵeld"](3,0,null,null,18,"ion-list",[["style",""]],null,null,null,null,null)),u["ɵdid"](4,16384,null,0,zn.a,[un.a,u.ElementRef,u.Renderer,an.a,pn.l,fn.a],null,null),(n()(),u["ɵted"](-1,null,["\n        "])),(n()(),u["ɵeld"](6,0,null,null,6,"button",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.documentRemove()&&t);return t},On.b,On.a)),u["ɵdid"](7,1097728,null,3,qn.a,[Vn.a,un.a,u.ElementRef,u.Renderer,[2,Hn.a]],null,null),u["ɵqud"](335544320,1,{contentLabel:0}),u["ɵqud"](603979776,2,{_buttons:1}),u["ɵqud"](603979776,3,{_icons:1}),u["ɵdid"](11,16384,null,0,Kn.a,[],null,null),(n()(),u["ɵted"](-1,2,["Delete"])),(n()(),u["ɵted"](-1,null,["\n        "])),(n()(),u["ɵeld"](14,0,null,null,6,"button",[["class","item item-block"],["ion-item",""]],null,[[null,"click"]],function(n,l,e){var t=!0;"click"===l&&(t=!1!==n.component.close()&&t);return t},On.b,On.a)),u["ɵdid"](15,1097728,null,3,qn.a,[Vn.a,un.a,u.ElementRef,u.Renderer,[2,Hn.a]],null,null),u["ɵqud"](335544320,4,{contentLabel:0}),u["ɵqud"](603979776,5,{_buttons:1}),u["ɵqud"](603979776,6,{_icons:1}),u["ɵdid"](19,16384,null,0,Kn.a,[],null,null),(n()(),u["ɵted"](-1,2,["CLOSE X"])),(n()(),u["ɵted"](-1,null,["\n      "])),(n()(),u["ɵted"](-1,null,["\n    "]))],null,null)}var Jn=u["ɵccf"]("ng-component",g,function(n){return u["ɵvid"](0,[(n()(),u["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,Gn,$n)),u["ɵdid"](1,49152,null,0,g,[bn.a,h.a,Fn.a,yn.a],null,null)],null,null)},{},{},[]),Zn=e(184),Xn=e(166),Wn=e(84),Qn=e(57),Yn=e(218),nl=e(90),ll=e(75),el=e(188),tl=e(121),ul=e(186),il=e(530),ol=e(185),rl=e(174),al=e(187),sl=e(532),cl=e(155),dl=u["ɵcmf"](N,[z.b],function(n){return u["ɵmod"]([u["ɵmpd"](512,u.ComponentFactoryResolver,u["ɵCodegenComponentFactoryResolver"],[[8,[O.a,q.a,V.a,H.a,K.a,$.a,G.a,J.a,Z.a,X.a,W.a,Q.a,Y.a,nn.a,Nn,Jn]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["ɵmpd"](5120,u.LOCALE_ID,u["ɵm"],[[3,u.LOCALE_ID]]),u["ɵmpd"](4608,ln.k,ln.j,[u.LOCALE_ID,[2,ln.t]]),u["ɵmpd"](5120,u.APP_ID,u["ɵf"],[]),u["ɵmpd"](5120,u.IterableDiffers,u["ɵk"],[]),u["ɵmpd"](5120,u.KeyValueDiffers,u["ɵl"],[]),u["ɵmpd"](4608,t.c,t.q,[ln.c]),u["ɵmpd"](6144,u.Sanitizer,null,[t.c]),u["ɵmpd"](4608,t.f,Zn.a,[]),u["ɵmpd"](5120,t.d,function(n,l,e,u,i){return[new t.k(n,l),new t.o(e),new t.n(u,i)]},[ln.c,u.NgZone,ln.c,ln.c,t.f]),u["ɵmpd"](4608,t.e,t.e,[t.d,u.NgZone]),u["ɵmpd"](135680,t.m,t.m,[ln.c]),u["ɵmpd"](4608,t.l,t.l,[t.e,t.m]),u["ɵmpd"](6144,u.RendererFactory2,null,[t.l]),u["ɵmpd"](6144,t.p,null,[t.m]),u["ɵmpd"](4608,u.Testability,u.Testability,[u.NgZone]),u["ɵmpd"](4608,t.h,t.h,[ln.c]),u["ɵmpd"](4608,t.i,t.i,[ln.c]),u["ɵmpd"](4608,s.o,s.o,[]),u["ɵmpd"](4608,s.d,s.d,[]),u["ɵmpd"](4608,i.c,i.c,[]),u["ɵmpd"](4608,i.k,i.b,[]),u["ɵmpd"](5120,i.m,i.n,[]),u["ɵmpd"](4608,i.l,i.l,[i.c,i.k,i.m]),u["ɵmpd"](4608,i.j,i.a,[]),u["ɵmpd"](5120,i.e,i.o,[i.l,i.j]),u["ɵmpd"](4608,i.q,i.q,[]),u["ɵmpd"](4608,i.g,i.g,[i.q,i.k]),u["ɵmpd"](5120,i.h,i.p,[i.g,i.j]),u["ɵmpd"](4608,a.j,a.j,[]),u["ɵmpd"](4608,a.h,a.h,[]),u["ɵmpd"](4608,a.g,a.g,[]),u["ɵmpd"](4608,Xn.a,Xn.a,[gn.a,un.a]),u["ɵmpd"](4608,Tn.a,Tn.a,[gn.a,un.a]),u["ɵmpd"](4608,Wn.a,Wn.a,[]),u["ɵmpd"](4608,Vn.a,Vn.a,[]),u["ɵmpd"](4608,Qn.a,Qn.a,[an.a]),u["ɵmpd"](4608,hn.a,hn.a,[un.a,an.a,u.NgZone,fn.a]),u["ɵmpd"](4608,En.a,En.a,[gn.a,un.a]),u["ɵmpd"](5120,ln.f,Yn.c,[ln.r,[2,ln.a],un.a]),u["ɵmpd"](4608,ln.e,ln.e,[ln.f]),u["ɵmpd"](5120,nl.b,nl.d,[gn.a,nl.a]),u["ɵmpd"](5120,kn.a,kn.b,[gn.a,nl.b,ln.e,ll.b,u.ComponentFactoryResolver]),u["ɵmpd"](4608,el.a,el.a,[gn.a,un.a,kn.a]),u["ɵmpd"](4608,tl.a,tl.a,[gn.a,un.a]),u["ɵmpd"](4608,An.a,An.a,[gn.a,un.a,kn.a]),u["ɵmpd"](4608,ul.a,ul.a,[un.a,an.a,fn.a,gn.a,pn.l]),u["ɵmpd"](4608,Fn.a,Fn.a,[gn.a,un.a]),u["ɵmpd"](4608,wn.a,wn.a,[an.a,un.a]),u["ɵmpd"](4608,o.a,o.a,[]),u["ɵmpd"](4608,r.a,r.a,[]),u["ɵmpd"](4608,m.a,m.a,[Wn.a,i.e]),u["ɵmpd"](4608,E,E,[i.e]),u["ɵmpd"](4608,I,I,[i.e,i.h]),u["ɵmpd"](4608,_,_,[i.e,i.h]),u["ɵmpd"](4608,T.a,T.a,[]),u["ɵmpd"](4608,h.a,h.a,[Wn.a,i.e,m.a]),u["ɵmpd"](4608,M.a,M.a,[Wn.a,i.e]),u["ɵmpd"](512,ln.b,ln.b,[]),u["ɵmpd"](512,u.ErrorHandler,il.a,[]),u["ɵmpd"](256,un.b,{preloadModules:!0},[]),u["ɵmpd"](1024,ol.a,ol.b,[]),u["ɵmpd"](1024,an.a,an.b,[t.b,ol.a,u.NgZone]),u["ɵmpd"](1024,un.a,un.c,[un.b,an.a]),u["ɵmpd"](512,fn.a,fn.a,[an.a]),u["ɵmpd"](512,dn.a,dn.a,[]),u["ɵmpd"](512,gn.a,gn.a,[un.a,an.a,[2,dn.a]]),u["ɵmpd"](512,pn.l,pn.l,[gn.a]),u["ɵmpd"](256,nl.a,{links:[{loadChildren:"../pages/annotate/annotate.module.ngfactory#AnnotatePageModuleNgFactory",name:"AnnotatePage",segment:"annotate/:guid",priority:"low",defaultHistory:["HomePage"]},{loadChildren:"../pages/review/review.module.ngfactory#ReviewPageModuleNgFactory",name:"ReviewPage",segment:"review/:guid",priority:"low",defaultHistory:["SignPage","EmailPage","AnnotatePage","HomePage"]},{loadChildren:"../pages/email/email.module.ngfactory#EmailPageModuleNgFactory",name:"EmailPage",segment:"email/:guid",priority:"low",defaultHistory:["AnnotatePage","HomePage"]},{loadChildren:"../pages/sign/sign.module.ngfactory#SignPageModuleNgFactory",name:"SignPage",segment:"sign/:guid",priority:"low",defaultHistory:["EmailPage","AnnotatePage","HomePage"]},{loadChildren:"../pages/home/home.module.ngfactory#HomeModuleNgFactory",name:"HomePage",segment:"home",priority:"low",defaultHistory:[]}]},[]),u["ɵmpd"](512,u.Compiler,u.Compiler,[]),u["ɵmpd"](512,rl.a,rl.a,[u.Compiler]),u["ɵmpd"](1024,ll.b,ll.c,[rl.a,u.Injector]),u["ɵmpd"](1024,u.APP_INITIALIZER,function(n,l,e,u,i,o,r,a,s,c,d,h,p){return[t.s(n),al.a(l),Wn.b(e,u),ul.b(i,o,r,a,s),ll.d(c,d,h,p)]},[[2,u.NgProbeToken],un.a,an.a,fn.a,un.a,an.a,fn.a,gn.a,pn.l,un.a,nl.a,ll.b,u.NgZone]),u["ɵmpd"](512,u.ApplicationInitStatus,u.ApplicationInitStatus,[[2,u.APP_INITIALIZER]]),u["ɵmpd"](131584,u.ApplicationRef,u.ApplicationRef,[u.NgZone,u["ɵConsole"],u.Injector,u.ErrorHandler,u.ComponentFactoryResolver,u.ApplicationInitStatus]),u["ɵmpd"](512,u.ApplicationModule,u.ApplicationModule,[u.ApplicationRef]),u["ɵmpd"](512,t.a,t.a,[[3,t.a]]),u["ɵmpd"](512,s.m,s.m,[]),u["ɵmpd"](512,s.e,s.e,[]),u["ɵmpd"](512,s.l,s.l,[]),u["ɵmpd"](512,Yn.a,Yn.a,[]),u["ɵmpd"](512,k.a,k.a,[]),u["ɵmpd"](512,sl.ChartsModule,sl.ChartsModule,[]),u["ɵmpd"](512,i.f,i.f,[]),u["ɵmpd"](512,i.i,i.i,[]),u["ɵmpd"](512,Yn.b,Yn.b,[]),u["ɵmpd"](512,j.a,j.a,[]),u["ɵmpd"](512,D.a,D.a,[]),u["ɵmpd"](512,S.a,S.a,[]),u["ɵmpd"](512,C.a,C.a,[]),u["ɵmpd"](512,a.c,a.c,[]),u["ɵmpd"](512,x.a,x.a,[]),u["ɵmpd"](512,P.a,P.a,[]),u["ɵmpd"](512,N,N,[]),u["ɵmpd"](256,ll.a,cl.a,[]),u["ɵmpd"](256,a.a,{notFoundText:"No items found",typeToSearchText:"Type to search",addTagText:"Add item",loadingText:"Loading...",clearAllText:"Clear all",disableVirtualScroll:!1},[]),u["ɵmpd"](256,z.a,w,[]),u["ɵmpd"](256,ln.a,"/",[])])});Object(u.enableProdMode)(),Object(t.j)().bootstrapModuleFactory(dl)},559:function(n,l,e){var t={"./af":273,"./af.js":273,"./ar":274,"./ar-dz":275,"./ar-dz.js":275,"./ar-kw":276,"./ar-kw.js":276,"./ar-ly":277,"./ar-ly.js":277,"./ar-ma":278,"./ar-ma.js":278,"./ar-sa":279,"./ar-sa.js":279,"./ar-tn":280,"./ar-tn.js":280,"./ar.js":274,"./az":281,"./az.js":281,"./be":282,"./be.js":282,"./bg":283,"./bg.js":283,"./bm":284,"./bm.js":284,"./bn":285,"./bn.js":285,"./bo":286,"./bo.js":286,"./br":287,"./br.js":287,"./bs":288,"./bs.js":288,"./ca":289,"./ca.js":289,"./cs":290,"./cs.js":290,"./cv":291,"./cv.js":291,"./cy":292,"./cy.js":292,"./da":293,"./da.js":293,"./de":294,"./de-at":295,"./de-at.js":295,"./de-ch":296,"./de-ch.js":296,"./de.js":294,"./dv":297,"./dv.js":297,"./el":298,"./el.js":298,"./en-au":299,"./en-au.js":299,"./en-ca":300,"./en-ca.js":300,"./en-gb":301,"./en-gb.js":301,"./en-ie":302,"./en-ie.js":302,"./en-il":303,"./en-il.js":303,"./en-nz":304,"./en-nz.js":304,"./eo":305,"./eo.js":305,"./es":306,"./es-do":307,"./es-do.js":307,"./es-us":308,"./es-us.js":308,"./es.js":306,"./et":309,"./et.js":309,"./eu":310,"./eu.js":310,"./fa":311,"./fa.js":311,"./fi":312,"./fi.js":312,"./fo":313,"./fo.js":313,"./fr":314,"./fr-ca":315,"./fr-ca.js":315,"./fr-ch":316,"./fr-ch.js":316,"./fr.js":314,"./fy":317,"./fy.js":317,"./gd":318,"./gd.js":318,"./gl":319,"./gl.js":319,"./gom-latn":320,"./gom-latn.js":320,"./gu":321,"./gu.js":321,"./he":322,"./he.js":322,"./hi":323,"./hi.js":323,"./hr":324,"./hr.js":324,"./hu":325,"./hu.js":325,"./hy-am":326,"./hy-am.js":326,"./id":327,"./id.js":327,"./is":328,"./is.js":328,"./it":329,"./it.js":329,"./ja":330,"./ja.js":330,"./jv":331,"./jv.js":331,"./ka":332,"./ka.js":332,"./kk":333,"./kk.js":333,"./km":334,"./km.js":334,"./kn":335,"./kn.js":335,"./ko":336,"./ko.js":336,"./ky":337,"./ky.js":337,"./lb":338,"./lb.js":338,"./lo":339,"./lo.js":339,"./lt":340,"./lt.js":340,"./lv":341,"./lv.js":341,"./me":342,"./me.js":342,"./mi":343,"./mi.js":343,"./mk":344,"./mk.js":344,"./ml":345,"./ml.js":345,"./mn":346,"./mn.js":346,"./mr":347,"./mr.js":347,"./ms":348,"./ms-my":349,"./ms-my.js":349,"./ms.js":348,"./mt":350,"./mt.js":350,"./my":351,"./my.js":351,"./nb":352,"./nb.js":352,"./ne":353,"./ne.js":353,"./nl":354,"./nl-be":355,"./nl-be.js":355,"./nl.js":354,"./nn":356,"./nn.js":356,"./pa-in":357,"./pa-in.js":357,"./pl":358,"./pl.js":358,"./pt":359,"./pt-br":360,"./pt-br.js":360,"./pt.js":359,"./ro":361,"./ro.js":361,"./ru":362,"./ru.js":362,"./sd":363,"./sd.js":363,"./se":364,"./se.js":364,"./si":365,"./si.js":365,"./sk":366,"./sk.js":366,"./sl":367,"./sl.js":367,"./sq":368,"./sq.js":368,"./sr":369,"./sr-cyrl":370,"./sr-cyrl.js":370,"./sr.js":369,"./ss":371,"./ss.js":371,"./sv":372,"./sv.js":372,"./sw":373,"./sw.js":373,"./ta":374,"./ta.js":374,"./te":375,"./te.js":375,"./tet":376,"./tet.js":376,"./tg":377,"./tg.js":377,"./th":378,"./th.js":378,"./tl-ph":379,"./tl-ph.js":379,"./tlh":380,"./tlh.js":380,"./tr":381,"./tr.js":381,"./tzl":382,"./tzl.js":382,"./tzm":383,"./tzm-latn":384,"./tzm-latn.js":384,"./tzm.js":383,"./ug-cn":385,"./ug-cn.js":385,"./uk":386,"./uk.js":386,"./ur":387,"./ur.js":387,"./uz":388,"./uz-latn":389,"./uz-latn.js":389,"./uz.js":388,"./vi":390,"./vi.js":390,"./x-pseudo":391,"./x-pseudo.js":391,"./yo":392,"./yo.js":392,"./zh-cn":393,"./zh-cn.js":393,"./zh-hk":394,"./zh-hk.js":394,"./zh-tw":395,"./zh-tw.js":395};function u(n){return e(i(n))}function i(n){var l=t[n];if(!(l+1))throw new Error("Cannot find module '"+n+"'.");return l}u.keys=function(){return Object.keys(t)},u.resolve=i,n.exports=u,u.id=559},570:function(n,l){},589:function(n,l){},590:function(n,l){},591:function(n,l){},62:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(71),e(16),e(72),e(97);var t=function(){function n(){}return l=n,n.forRoot=function(){return{ngModule:l,providers:[]}},n;var l}()},71:function(n,l,e){"use strict";e.d(l,"a",function(){return t});e(1),e(16);var t=function(){function n(n,l){this.nav=n,this.documentService=l,console.log("Hello BlockStepsComponent Component"),this.text="Hello World"}return n.prototype.route=function(n){$(".block-pdf-page").empty(),this.nav.push(n,{guid:this.documentService.currentDoc.guid})},n}()},72:function(n,l,e){"use strict";e.d(l,"a",function(){return p});e(1),e(16);var t=e(176),u=(e.n(t),e(177)),i=(e.n(u),e(178)),o=(e.n(i),e(48)),r=(e.n(o),e(565)),a=e.n(r),s=e(40),c=e.n(s),d=this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})},h=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},p=function(){function n(n,l,e,t,u,i){this.navCtrl=n,this.navParams=l,this.documentService=e,this.changeDetector=t,this.viewContainerRef=u,this.loadingCtrl=i,this.showToolBar=0,this.locked=!1,this.marginTop="130px",this.DOCUMENT_ID="blockusign/pdf1.txt",this.UI=c.a,this.containerId="pageContainer1",this.canvasId="canvas1",this.currPage=1,this.numPages=0,this.thePDF=null,this.selectedElement=null,this.prevElement=null,this.currentX=0,this.currentY=0,this.allowResize=!1,console.log("====> constructor")}return n.prototype.ngOnInit=function(){var n=this;console.log("====> ngOnInit"),$(document).ready(function(){n.loading=n.loadingCtrl.create({content:"Please wait..."}),n.loading.present(),n.init()})},n.prototype.ngOnDestroy=function(){console.log("====> ngOnDestroy")},n.prototype.init=function(){var n=this;if(this.svgDrawer=dragOn(document.querySelector(".dropzone"),{listenTo:".draggable"}),getQueryParam("docData"))this.loading.dismiss();else{if(this.navParams.get("guid")&&!this.documentService.currentDoc){var l=this.navParams.get("guid");this.documentService.getDocumentsIndex(!0).then(function(e){n.documentService.documentsList=e,n.documentService.setCurrentDoc(l),n.getFile()})}else if(this.documentService.currentDoc.guid)this.documentService.setCurrentDoc(this.documentService.currentDoc.guid),this.getFile();else{var e=this.navParams.get("guid");this.documentService.setCurrentDoc(e),this.getFile()}this.yourName=blockstack.loadUserData().profile.name}},n.prototype.getFile=function(){return d(this,void 0,void 0,function(){var n,l;return h(this,function(e){switch(e.label){case 0:return[4,this.documentService.getDocument(this.documentService.currentDoc.guid+".pdf",this.documentService.currentDoc.documentKey)];case 1:return n=e.sent(),this.pdfBuffer=n,l=new Uint8Array(this.pdfBuffer),this.loadPdf(l),[2]}})})},n.prototype.back=function(){this.navCtrl.push("HomePage")},n.prototype.next=function(){this.navCtrl.push("EmailPage",{guid:this.documentService.currentDoc.guid})},n.prototype.clear=function(){this.svgDrawer.cleanHTML(),this.svgDrawer.cleanDrawArea(),this.svgDrawer.updateMetrics(),localStorage.removeItem("svg")},n.prototype.loadPdf=function(n){var l=this;a.a.getDocument({data:n}).promise.then(function(n){l.numPages=n.numPages,l.thePDF=n;var e,t=document.getElementById("canvasWrapper");for(e=1;e<=n.numPages;e++){var u=document.createElement("canvas");t.appendChild(u),l.renderPage(e,u)}l.loadSvg(1),l.loading.dismiss()},function(n){console.error(n)})},n.prototype.renderPage=function(n,l){this.thePDF.getPage(n).then(function(n){var e=n.getViewport(1);l.height=e.height,l.width=e.width;var t={canvasContext:l.getContext("2d"),viewport:e};n.render(t).then(function(){return n.getTextContent()}).then(function(l){var t=document.createElement("div");t.setAttribute("class","textLayer"),document.getElementById("canvasWrapper").appendChild(t);var u=new TextLayerBuilder({textLayerDiv:t,pageIndex:n.pageIndex,viewport:e});u.setTextContent(l),u.render()})})},n.prototype.handleClearClick=function(n){confirm("Are you sure you want to throw your work away?")&&(this.page1.innerHTML="")},n.prototype.handleDragStart=function(n){n.style.opacity="0.4"},n.prototype.overLay=function(n){var l=792*this.numPages;$("#svg-dropzone").css("width","612"),$("#svg-dropzone").css("height",l),$("#svg-dropzone").attr("width","612"),$("#svg-dropzone").attr("height",l),$("#svg-dropzone").attr("viewBox","0 0 612 "+l)},n.prototype.saveSvg=function(){return d(this,void 0,void 0,function(){var n;return h(this,function(l){switch(l.label){case 0:return n="",$(".dragOn-drawArea").each(function(){var l=$(this);""!==l.html()&&(n+=l.html())}),[4,this.documentService.saveAnnotations(this.documentService.currentDoc.guid,n)];case 1:return l.sent(),[4,this.documentService.addMessage(this.documentService.currentDoc.guid,"Updated annotation")];case 2:return l.sent(),[2]}})})},n.prototype.loadSvg=function(n){return d(this,void 0,void 0,function(){var l,e;return h(this,function(t){switch(t.label){case 0:return this.overLay(n),[4,this.documentService.getAnnotations(this.documentService.currentDoc.guid)];case 1:return l=t.sent(),e=null,l&&(e=l.annotations),e&&this.svgDrawer.addHTML(e,this.locked),[2]}})})},n}()},97:function(n,l,e){"use strict";e.d(l,"a",function(){return r});e(1);var t=e(270),u=(e(16),e(3)),i=(e.n(u),this&&this.__awaiter||function(n,l,e,t){return new(e||(e=Promise))(function(u,i){function o(n){try{a(t.next(n))}catch(n){i(n)}}function r(n){try{a(t.throw(n))}catch(n){i(n)}}function a(n){n.done?u(n.value):new e(function(l){l(n.value)}).then(o,r)}a((t=t.apply(n,l||[])).next())})}),o=this&&this.__generator||function(n,l){var e,t,u,i,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function r(i){return function(r){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,t&&(u=t[2&i[0]?"return":i[0]?"throw":"next"])&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[0,u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,t=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=(u=o.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=l.call(n,o)}catch(n){i=[6,n],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,r])}}},r=function(){function n(n,l,e){this.documentService=n,this.events=l,this.blockstackService=e,this.firstLoad=!0}return n.prototype.ngOnInit=function(){var n=this;this.firstLoad=!0,this.doc=new t.a,this.documentService.currentDoc?(this.doc=this.documentService.currentDoc,this.initChatPolling()):this.subscription=this.events.subscribe("documentService:setCurrentDoc",function(l){return i(n,void 0,void 0,function(){return o(this,function(n){return this.doc=l,this.initChatPolling(),[2]})})}),this.chatSubscription=this.events.subscribe("documentService:addedChat",function(l){return i(n,void 0,void 0,function(){return o(this,function(n){return[2]})})})},n.prototype.initChatPolling=function(){var n=this;this.chatPolling=setInterval(function(){setTimeout(function(){n.getLogData(!0)},1e3)},3e3)},n.prototype.ngOnDestroy=function(){clearInterval(this.chatPolling),this.subscription&&this.subscription.unsubscribe(),this.chatSubscription&&this.chatSubscription.unsubscribe()},n.prototype.getLogData=function(n){return i(this,void 0,void 0,function(){var n=this;return o(this,function(l){return $(document).ready(function(){return i(n,void 0,void 0,function(){var n,l,e,t,i,r,a;return o(this,function(o){switch(o.label){case 0:return[4,this.documentService.getLog(this.doc.guid)];case 1:for(n=o.sent(),$(".chat-head").html(this.doc.fileName),l="",e=jslinq(n.messages).orderBy(function(n){return n.updatedAt}).toList(),t=function(n){var e=n.updatedAt,t=u(e).calendar(e),o=n.createdBy;try{o=n.createdBy.replace(".id","")}catch(n){console.log("user does not have .id")}var r="block-pic-"+o;i.blockstackService.getPicUrl(n.createdByName).then(function(n){$("."+r).attr("src",n)}),l=l+'  \n        <div class="chat-message clearfix">\n        <img class="'+r+'" src="http://www.gravatar.com/avatar/?d=identicon" alt="" width="32" height="32">\n        <div class="chat-message-content clearfix">\n          <span class="chat-time">'+t+"</span>\n          <h5>"+n.email+"</h5>\n          <p>"+n.message+"</p>\n        </div> \n        </div>\n        <hr style='margin-top:5px' />\n        "},i=this,r=0,a=e;r<a.length;r++)t(a[r]);return $(".log-history").html(l),this.firstLoad&&($(".chat-history").scrollTop($(".log-history").height()),this.firstLoad=!1,$(".loadSpin").hide()),[2]}})})}),[2]})})},n.prototype.minimize=function(){$(".chat").slideToggle(300,"swing"),$(".chat-message-counter").fadeToggle(300,"swing")},n.prototype.addMessage=function(){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return $(".loadSpin").show(),[4,this.documentService.addMessage(this.doc.guid,this.message)];case 1:return n.sent(),this.events.publish("documentService:addedChat",this.message),this.message=null,this.firstLoad=!0,$(".loadSpin").hide(),[2]}})})},n}()}},[552]);